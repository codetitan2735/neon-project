(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4932],{96144:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(85893),a=n(62489),o=n(37646),s=n(94184),i=n.n(s),c=n(94001),l=function(e){var t=e.title,n=e.chainId,a=e.from,s=e.to,i=e.amount;return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"mb-3 font-bold opacity-50 uppercase",children:t}),(0,r.jsxs)("div",{className:"bg-pt-purple-lighter dark:bg-pt-purple-dark border-2 border-pt-purple-light dark:border-pt-purple-darkest rounded-lg relative text-lg font-bold",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex justify-center",children:(0,r.jsx)("div",{className:"bg-pt-purple-light dark:bg-pt-purple-darkest rounded-full p-2 h-fit-content my-auto",children:(0,r.jsx)(c.p,{className:"text-inverse"})})}),(0,r.jsxs)("div",{className:"flex justify-between items-center border-b border-pt-purple-light dark:border-pt-purple-darkest p-4",children:[(0,r.jsx)(u,{chainId:n,token:a}),(0,r.jsx)("span",{children:(0,o.numberWithCommas)(i.amount,{precision:(0,o.getMaxPrecision)(i.amount)})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center border-t border-pt-purple-light dark:border-pt-purple-darkest p-4",children:[(0,r.jsx)(u,{chainId:n,token:s}),(0,r.jsx)("span",{children:(0,o.numberWithCommas)(i.amount,{precision:(0,o.getMaxPrecision)(i.amount)})})]})]})]})},u=function(e){var t=e.chainId,n=e.token;return(0,r.jsxs)("div",{className:i()("flex items-center","placeholder-white placeholder-opacity-50"),children:[(0,r.jsx)(a.T1,{sizeClassName:"w-6 h-6",className:"mr-2",chainId:t,address:n.address}),(0,r.jsx)("span",{children:n.symbol})]})}},55682:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(85893),a=(n(67294),n(26793)),o=n(19301),s=n(62489),i=function(e){var t=e.className,n=e.postConnectCallback,i=(0,o._g)().connectWallet,c=(0,a.$)().t;return(0,r.jsx)(s.LE,{className:t,onClick:function(){return i(n)},type:"button",children:c("connectWallet")})};i.defaultProps={className:"w-full",postConnectCallback:null}},61948:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(85893),a=n(67294),o=n(17857),s=n(49953);function i(e){var t=e.countTo,n=e.decimals,i=e.duration,c=e.countFrom,l=(0,a.useState)(c),u=l[0],d=l[1],p=(0,s.usePreviousValue)(u);(0,a.useEffect)((function(){d(t)}),[t]);var m=t>1e4?0:n;return(0,r.jsx)(o.ZP,{start:p,end:u,duration:i,separator:",",decimals:m})}i.defaultProps={countFrom:0,decimals:2,duration:1.4}},94001:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(85893),a=(n(67294),function(e){return(0,r.jsx)("div",{className:e.className||"text-default opacity-40",children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"fill-current mx-auto",children:(0,r.jsx)("path",{d:"M7 1V12.17L2.12 7.29C1.73 6.9 1.09 6.9 0.700001 7.29C0.310001 7.68 0.310001 8.31 0.700001 8.7L7.29 15.29C7.68 15.68 8.31 15.68 8.7 15.29L15.29 8.7C15.68 8.31 15.68 7.68 15.29 7.29C14.9 6.9 14.27 6.9 13.88 7.29L9 12.17V1C9 0.45 8.55 0 8 0C7.45 0 7 0.45 7 1Z"})})})})},84366:function(e,n,r){"use strict";r.d(n,{p5:function(){return y},uX:function(){return N},XB:function(){return D},wI:function(){return w}});var a=r(26265),o=r(85893),s=(r(67294),r(95062)),i=r(75263),c=r(91747),l=r(26793),u=r(62489),d=r(37646),p=r(41823),m=r(21702);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var n,r=e.txName,a=e.totalGasWei,i=e.totalGasUsd,c=e.isFetched,l=e.chainId,f=e.label,h=function(e){return m.An[e]||"Unknown"}(l);return c||(n=(0,o.jsx)(u.kW,{className:"my-auto",size:16})),c&&a&&(n=(0,o.jsx)(u.u,{id:"tooltip-est-gas-costs-wei-".concat(r),tip:(0,o.jsxs)(o.Fragment,{children:[(0,d.numberWithCommas)(a)," ",h]}),children:(0,o.jsxs)("span",{className:"text-inverse",children:["$",(0,d.numberWithCommas)(i,{precision:2})]})})),c&&!a&&(n=(0,o.jsx)(u.u,{id:"tooltip-est-gas-costs-".concat(r),tip:t("errorEstimatingGasCosts","Error estimating gas costs"),children:(0,o.jsx)(s.Z,{icon:"help-circle",className:"relative w-4 h-4 mr-1 inline-block",style:{top:-1}})})),(0,o.jsx)(p.Of,{label:f,value:n})},v=c.O$.from("500000"),x=c.O$.from("400000"),j=c.O$.from("450000"),g=c.O$.from("50000"),y=function(e){var t,n,r=e.chainId,a=(0,l.$)().t,s=(0,i.useGasCostEstimate)(v,r),c=s.totalGasWei,u=s.totalGasUsd,d=s.isFetched,p=s.error,m=(0,i.useGasCostEstimate)(g,r),f=m.totalGasWei,h=m.totalGasUsd,x=m.isFetched,j=m.error,y=d&&x,O=p&&j;return y&&!O&&c&&u&&(t=c.add(f),n=u.add(h)),(0,o.jsx)(b,{label:a("estimatedNetworkFees","Estimated network fees"),txName:"approve-and-deposit",totalGasWei:t,totalGasUsd:n,chainId:r,isFetched:y,error:O})},O=function(e){var t=e.chainId,n=e.label,r=e.txName,a=e.gasAmount,s=(0,l.$)().t,c=(0,i.useGasCostEstimate)(a,t),u=c.totalGasWei,d=c.totalGasUsd,p=c.isFetched,m=c.error;return(0,o.jsx)(b,{label:n||s("estimatedNetworkFees","Estimated network fees"),txName:r,totalGasWei:u,totalGasUsd:d,chainId:t,isFetched:p,error:m})},w=function(e){return(0,o.jsx)(O,h(h({},e),{},{txName:"withdraw",gasAmount:j}))},N=function(e){return(0,o.jsx)(O,h(h({},e),{},{txName:"deposit",gasAmount:v}))},k=function(e){return(0,o.jsx)(O,h(h({},e),{},{txName:"approve",gasAmount:g}))},P=function(e){return(0,o.jsx)(O,h(h({},e),{},{txName:"claim",gasAmount:x}))},D=function(e){var t=(0,l.$)().t;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Of,{className:"font-semibold text-pt-purple-light",label:t("estimatedNetworkFees","Estimated network fees"),value:void 0}),e.showApprove&&(0,o.jsx)(k,h(h({},e),{},{label:t("approveDeposits")})),(0,o.jsx)(N,h(h({},e),{},{label:t("deposit")})),(0,o.jsx)(P,h(h({},e),{},{label:t("prizeClaims","Prize claims")})),(0,o.jsx)(w,h(h({},e),{},{label:t("withdrawal","Withdrawal")}))]})}},41823:function(e,t,n){"use strict";n.d(t,{Zn:function(){return u},Q4:function(){return d},Of:function(){return p}});var r=n(85893),a=n(38347),o=n(26265),s=n(94184),i=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return(0,r.jsx)(d,l(l({},e),{},{bgClassName:"bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10",textClassName:""}))},d=function(e){var t=e.className,n=e.bgClassName,o=e.textClassName,s=(0,a.Z)(e,["className","bgClassName","textClassName"]);return(0,r.jsx)("ul",l(l({},s),{},{className:i()(t,n,o,"w-full px-4 py-2 rounded-lg transition")}))};d.defaultProps={bgClassName:"bg-tertiary",textClassName:"text-accent-1"};var p=function(e){var t=e.label,n=e.value,a=e.className,o=e.fontSizeClassName,s=e.dimValue,c=e.valueClassName,l=e.labelClassName;return(0,r.jsxs)("li",{className:i()("flex justify-between",a,o),children:[(0,r.jsxs)("span",{className:l,children:[t,":"]}),(0,r.jsx)("span",{className:i()("text-right",c,{"opacity-80":s}),children:n})]})};p.defaultProps={fontSizeClassName:"text-xxs xs:text-xs"}},87996:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var r=n(85893),a=n(26265),o=n(38347),s=(n(67294),n(26793)),i=n(96168),c=n(62489),l=n(37646),u=n(66776);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.chainId,n=e.disabled,a=e.toolTipId,d=e.children,m=(0,o.Z)(e,["chainId","disabled","toolTipId","children"]),f=(0,s.$)().t,h=(0,u.C)(t),b=(0,l.getNetworkNiceNameByChainId)(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.LE,p(p({},m),{},{"data-tip":!0,"data-for":"".concat(a,"-tooltip"),disabled:!h||n,children:h?d:f("connectToNetwork","Connect to {{networkName}}",{networkName:b})})),!h&&(0,r.jsx)(i.Z,{id:"".concat(a,"-tooltip"),backgroundColor:"#111",place:"top",effect:"solid",overridePosition:c.fJ,clickable:!0,children:f("pleaseSwitchToNetwork","Please switch to chain {{networkName}} ({{chainId}})",{networkName:b,chainId:t})})]})}},58273:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(85893),a=n(67294),o=n(95062),s=n(62489),i=n(26793),c=n(41499),l=n(21702),u=function(e){var t=e.chainId,n=e.tokenAddress,a=(0,i.$)().t,c=(0,l.Ol)(t,n);return(0,r.jsxs)(s.u_,{isOpen:Boolean(e.isOpen),paddingClassName:"pt-20",maxWidthClassName:"sm:max-w-xl",label:a("getTokensModal","Get Tokens - modal"),closeModal:e.closeModal,style:{paddingTop:70},children:[(0,r.jsxs)("a",{className:"absolute top-6 left-6 flex text-sm text-accent-1 transition-colors hover:text-inverse",href:c,target:"_blank",rel:"noopener noreferrer",children:[a("openExchangeInNewTab","Open exchange in new tab"),(0,r.jsx)(o.Z,{icon:"external-link",className:"w-4 h-4 ml-2 my-auto"})]}),(0,r.jsx)("iframe",{className:"w-full h-full sm:h-75vh rounded-b-lg",src:c,title:a("decentralizedExchange","Decentralized exchange"),loading:"lazy",referrerPolicy:"no-referrer"})]})};u.defaultProps={chainId:c.Kj.mainnet};var d=function(e){var t=e.buttonLabel,n=e.chainId,s=e.outputCurrencyAddress,l=(0,a.useState)(!1),d=l[0],p=l[1],m=(0,i.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"text-center text-inverse opacity-70 hover:opacity-100 transition-opacity",onClick:function(){return p(!0)},style:{minWidth:c.lY},children:[(0,r.jsx)(o.Z,{icon:"refresh-cw",className:"relative w-4 h-4 mr-1 inline-block",style:{left:-2,top:-2}})," ",t||m("swapTokens","Swap tokens")]}),(0,r.jsx)(u,{label:m("decentralizedExchangeModal","Decentralized exchange - modal"),chainId:n,tokenAddress:s,isOpen:d,closeModal:function(){return p(!1)}})]})}},7541:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(85893),a=(n(67294),n(26793)),o=n(62489),s=n(37646),i=function(e){var t=e.depositTx,n=e.chainId,i=(0,a.$)().t;return t?(0,r.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,r.jsxs)("div",{children:[i("transactionReceipt","Transaction receipt"),":"]}),(0,r.jsx)(o.f8,{className:"text-xs",chainId:n,txHash:t.hash,children:(0,r.jsx)("span",{className:"underline",children:(0,s.shorten)({hash:t.hash})})})]}):null}},67527:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(85893),a=n(62489),o=(n(67294),n(26793)),s=n(20584),i=n(41823),c=n(86645),l=n(57989),u=function(e){var t=e.amount,n=e.prizePool,s=e.action,c=(0,o.$)().t;return n?(0,r.jsx)(i.Of,{label:(0,r.jsx)(a.u,{id:"tooltip-deposit-updated-odds",tip:c("oddsToWinOnePrize","Your estimated odds of winning at least one prize"),children:c("updatedWinningOdds","Updated winning odds")}),value:(0,r.jsx)(d,{amount:t,action:s})}):null},d=function(e){var t=(0,o.$)().t,n=e.amount,s=e.action,i=e.emptyString,u=(0,l.b)(),d=(0,c.B)(u,s,null===n||void 0===n?void 0:n.amountUnformatted);return Boolean(d)?0===d.odds?(0,r.jsx)("span",{className:"opacity-80",children:i||t("none")}):(0,r.jsx)(r.Fragment,{children:t("oneInOdds",{odds:d.oneOverOdds.toFixed(2)})}):(0,r.jsx)(a.kW,{sizeClassName:"w-3 h-3"})};d.defaultProps={action:s.mq.none}},17537:function(e,t,n){"use strict";n.d(t,{v:function(){return p}});var r=n(26265),a=n(809),o=n.n(a),s=n(92447),i=n(88767),c=n(42382),l=n(78122),u=n(84299);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(){var e=(0,l.H)(),t=e.data,n=e.isFetched,a=(0,u.R)();return(0,i.useQuery)(["useUpcomingPrizeTier",null===t||void 0===t?void 0:t.drawId,a.id()],(0,s.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getUpcomingPrizeTier();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({enabled:n},c.u))}},19665:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(17537),a=n(44539),o=function(e){var t=(0,r.v)(),n=t.data,o=t.isFetched;return Boolean(e)&&o?(0,a.$)(Math.pow(2,n.bitRangeSize).toString(),e.decimals):null}},24530:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var r=n(26265),a=n(38347),o=n(7794),s=n(86140);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){var e=(0,s.H)(),t=(0,o.LA)(e),n=t.data;return c(c({},(0,a.Z)(t,["data"])),{},{data:null===n||void 0===n?void 0:n.ticket.decimals})}},38949:function(e,t,n){"use strict";n.d(t,{k:function(){return p}});var r=n(26265),a=n(809),o=n.n(a),s=n(92447),i=n(42382),c=n(57989),l=n(88767);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=(0,c.b)(),n=Boolean(e)&&Boolean(t);return(0,l.useQuery)(["useUsersDepositAllowance",null===e||void 0===e?void 0:e.id(),t],(0,s.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getUsersDepositAllowance(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),d(d({},i.u),{},{enabled:n}))}},30446:function(e,t,n){"use strict";n.d(t,{SE:function(){return f},IO:function(){return h},yk:function(){return v}});var r=n(26265),a=n(809),o=n.n(a),s=n(92447),i=n(75263),c=n(77616),l=n(37646),u=n(88767),d=n(7794);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f="useUsersPrizePoolBalances",h=function(e,t){var n=(0,i.useRefetchInterval)(null===t||void 0===t?void 0:t.chainId),r=(0,d.LA)(t),a=r.data,c=r.isFetched,l=Boolean(t)&&Boolean(e)&&c;return(0,u.useQuery)([f,t.id(),e],(0,s.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",v(t,e,a));case 1:case"end":return n.stop()}}),n)}))),{refetchInterval:n,enabled:l})},b=function(e,t){return(0,l.numberWithCommas)(e,{decimals:t})},v=function(){var e=(0,s.Z)(o().mark((function e(t,n,r){var a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersPrizePoolBalances(n);case 2:return a=e.sent,s=r.ticket,i=r.token,e.abrupt("return",{prizePool:t,usersAddress:n,balances:{ticket:m(m({},s),{},{hasBalance:!a.ticket.isZero(),amountUnformatted:a.ticket,amount:(0,c.formatUnits)(a.ticket,s.decimals),amountPretty:b(a.ticket,s.decimals)}),token:m(m({},i),{},{hasBalance:!a.token.isZero(),amountUnformatted:a.token,amount:(0,c.formatUnits)(a.token,i.decimals),amountPretty:b(a.token,i.decimals)})}});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},15293:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var r=n(809),a=n.n(r),o=n(26265),s=n(92447),i=n(88767),c=function(e,t){var n=Boolean(t)&&Boolean(e);return(0,i.useQuery)(["useUsersTicketDelegate",null===t||void 0===t?void 0:t.id(),e],(0,s.Z)(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getUsersTicketDelegate(e);case 2:return r=n.sent,n.abrupt("return",(0,o.Z)({},e,r));case 4:case"end":return n.stop()}}),n)}))),{enabled:n})}},60138:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(66479),a=n(94812),o=n(87774),s=function(){var e=(0,r.SU)().chainId,t=(0,a.G)(e);return(0,o.a)(t)}},87774:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(67294),a=n(19301),o=n(41725),s=function(e){var t=(0,a._g)().provider;return(0,r.useMemo)((function(){if(!t||!e)return null;var n=t.getSigner();return new o.n5(e.prizePoolMetadata,n,e)}),[null===e||void 0===e?void 0:e.id(),t])}},20584:function(e,t,n){"use strict";n.d(t,{mq:function(){return r},LT:function(){return c},JY:function(){return l}});var r,a=n(37646),o=n(21046),s=n(67294),i=n(852);!function(e){e.none="NONE",e.withdraw="WITHDRAW",e.deposit="DEPOSIT"}(r||(r={}));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.none,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o._Y,a=(0,i.O)();return(0,s.useMemo)((function(){if(!Boolean(a)||void 0===e||null===e)return{isFetched:!1,data:void 0};var r=a.numberOfPrizes,o=a.decimals,s=a.totalSupply;return{isFetched:!0,data:l(e,s,r,o,t,n)}}),[a,e])},l=function(e,t,n,s){var i,c,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.none,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o._Y;l===r.withdraw?(c=e.amountUnformatted.sub(u),i=t.amountUnformatted.sub(u)):l===r.deposit?(c=e.amountUnformatted.add(u),i=t.amountUnformatted.add(u)):(c=e.amountUnformatted,i=t.amountUnformatted);var d=(0,a.calculateOdds)(c,i,s,n),p=1/d;return{odds:d,oneOverOdds:p}}},852:function(e,t,n){"use strict";n.d(t,{O:function(){return p}});var r=n(41725),a=n(17537),o=n(2593),s=n(69806),i=n(67294),c=n(88767),l=n(92466),u=(n(75263),"usePrizePoolTicketTotalSupply"),d=n(24530),p=function(){var e=(0,d.D)(),t=e.data,n=e.isFetched,r=(0,a.v)(),p=r.data,f=r.isFetched,h=function(){var e=(0,l.I)(),t=(0,d.D)().data,n=(0,c.useQueries)(e.map((function(e){return{queryKey:[u,null===e||void 0===e?void 0:e.id()],queryFn:function(){return null===e||void 0===e?void 0:e.getTicketTotalSupply()},enabled:Boolean(t)}})));return(0,i.useMemo)((function(){var e=n.every((function(e){return e.isFetched})),r=o.O$.from(0);return n.forEach((function(e){var t=e.data;e.isFetched&&(r=r.add(t))})),{data:(0,s.T)(r,t),isFetched:e}}),[n,t])}(),b=h.data;return h.isFetched&&n&&f?{decimals:t,totalSupply:b,numberOfPrizes:m(p)}:null},m=function(e){return e.tiers.reduce((function(t,n,a){return 0===n?t:t+(0,r.JG)(e.bitRangeSize,a)}),0)}},86645:function(e,t,n){"use strict";n.d(t,{B:function(){return j}});var r=n(21046),a=n(809),o=n.n(a),s=n(92447),i=n(67294),c=n(88767),l=n(24530),u=n(69806),d=n(92466),p=(n(75263),n(37646)),m="useUsersPrizePoolTwab",f=function(){var e=(0,s.Z)(o().mark((function e(t,n,r){var a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.round((0,p.msToS)(Date.now())),e.next=3,t.getUsersTicketTwabAt(n,a);case 3:return s=e.sent,i=(0,u.T)(s,r),e.abrupt("return",{usersAddress:n,twab:i});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(e){var t=(0,l.D)(),n=t.data,r=t.isFetched,a=(0,d.I)(),u=(0,c.useQueries)(a.map((function(t){return{queryKey:[m,null===t||void 0===t?void 0:t.id(),e],queryFn:function(){var r=(0,s.Z)(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",f(t,e,n));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),enabled:Boolean(e)&&r}})));return(0,i.useMemo)((function(){var t=u.every((function(e){return e.isFetched})),r=u.some((function(e){return e.isFetching})),a=u.map((function(e){return e.data})),o=[];a.forEach((function(e){e&&!e.twab.amountUnformatted.isZero()&&o.push(e.twab)}));var s=b(o,n);return{data:{usersAddress:e,twab:s},isFetching:r,isFetched:t,refetch:function(){return u.forEach((function(e){return e.refetch()}))}}}),[u])},b=function(e,t){var n=r._Y;return e.forEach((function(e){e&&!e.amountUnformatted.isZero()&&(n=n.add(e.amountUnformatted))})),(0,u.T)(n,t)},v=n(20584),x=n(852),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.mq.none,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r._Y,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=h(e),s=o.data,i=o.isFetched,c=(0,x.O)();if(i&&c&&s){var l=c.totalSupply,u=c.numberOfPrizes,d=c.decimals,p=(0,v.JY)(s.twab,l,u*a,d,t,n),m=p.odds,f=p.oneOverOdds;return{usersAddress:e,odds:m,oneOverOdds:f}}}},69806:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(37646),a=n(77616),o={amount:"",amountUnformatted:void 0,amountPretty:""},s=function(e,t){try{if(!e||void 0===e)return o;var n=a.formatUnits(e,t);return{amountUnformatted:e,amount:n,amountPretty:(0,r.numberWithCommas)(n)}}catch(s){return o}}},50678:function(e,t,n){"use strict";n.d(t,{l:function(){return Z}});var r,a=n(85893),o=n(67294),s=n(41664),i=n(62489),c=n(26793),l=n(11163),u=n(37646),d=n(87996),p=n(38758),m=n(58270),f=n(84366),h=n(41823),b=n(66776),v=n(20584),x=n(67527),j=n(8396),g=n(96144),y=n(54012),O=n(26265),w=n(38347),N=n(94184),k=n.n(N);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.rainbow="bg-animated-gradient-1"}(r||(r={}));var C=function(e){var t=e.borderGradient,n=e.className,r=e.roundedClassName,s=e.paddingClassName,c=e.innerClassName,l=e.innerBackgroundColorDark,u=e.innerBackgroundColorLight,d=e.children,p=(0,w.Z)(e,["borderGradient","className","roundedClassName","paddingClassName","innerClassName","innerBackgroundColorDark","innerBackgroundColorLight","children"]),m="dark"===(0,o.useContext)(i.Ni).theme?l:u;return(0,a.jsx)("div",D(D({},p),{},{className:k()("p-1",t,r,n),children:(0,a.jsx)("div",{className:k()("backdrop-filter backdrop-blur-sm",c,s,r),style:{background:m+"e6"},children:d})}))};C.defaultProps={borderGradient:r.rainbow,paddingClassName:"p-4 xs:py-6 xs:px-8",roundedClassName:"rounded-lg",innerBackgroundColorDark:"#1c0454",innerBackgroundColorLight:"#f0e9ff"};var T,I=n(95062),F=n(41499),U=(T={},(0,O.Z)(T,F.Kj.mainnet,5e3),(0,O.Z)(T,F.Kj.rinkeby,5e3),T),E=function(e){var t=e.chainId,n=e.amountToDeposit,r=(0,c.$)().t,o=U[t];return!o||Number(n.amount)>o?null:(0,a.jsxs)("div",{className:"bg-pt-red bg-opacity-50 dark:bg-opacity-80 p-4 rounded flex space-x-4",children:[(0,a.jsx)("div",{className:"flex items-center px-2",children:(0,a.jsx)(I.Z,{icon:"alert-triangle",className:"w-6 h-6"})}),(0,a.jsx)("span",{children:r("smallDepositNotRecommendedTryADifferentChain","A deposit of this size is not recommended due to the network's gas fees. Try a different blockchain for lower gas fees.")})]})},S=function(e){var t=e.className,n=e.chainId,r=e.approveTx,o=e.sendApproveTx,s=e.amountToDeposit,l=(0,c.$)().t;if(null!==r&&void 0!==r&&r.inFlight){var u=(0,i.GN)(null===r||void 0===r?void 0:r.hash,n);return(0,a.jsxs)("div",{className:k()(t,"flex flex-col"),children:[(0,a.jsx)(i.kW,{className:"mx-auto mb-8",sizeClassName:"w-10 h-10"}),(0,a.jsx)("div",{className:"text-inverse opacity-60",children:(0,a.jsx)("p",{className:"mb-4 text-center mx-8",children:l("onceYourApprovalTxHasFinished","Once your approval transaction has finished successfully you can deposit.")})}),(0,a.jsx)(i._8,{href:u,className:"w-full mt-6",theme:i.kY.tealOutline,target:"_blank",children:l("viewReceipt","View receipt")})]})}return(0,a.jsxs)("div",{className:k()(t,"flex flex-col"),children:[(0,a.jsxs)("div",{className:"mx-4 text-inverse opacity-60",children:[(0,a.jsx)("p",{className:"mb-4",children:l("prizePoolContractsRequireApprovals","PoolTogether's Prize Pool contracts require you to send an approval transaction before depositing.")}),(0,a.jsx)("p",{className:"mb-4",children:l("thisIsOncePerNetwork","This is necessary once per network.")}),(0,a.jsxs)("p",{className:"mb-10",children:[l("forMoreInfoOnApprovals","For more info on approvals see:")," ",(0,a.jsx)("a",{target:"_blank",className:"underline",href:"https://docs.pooltogether.com/how-to/how-to-deposit",children:l("howToDeposit","How to deposit")}),"."]})]}),(0,a.jsx)(h.Zn,{className:"mb-2",children:(0,a.jsx)(f.XB,{chainId:n,showApprove:!0})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(E,{chainId:n,amountToDeposit:s})}),(0,a.jsx)(i.LE,{className:"w-full",onClick:o,children:l("confirmApproval","Confirm approval")})]})},A=function(e){var t=e.className,n=(0,c.$)().t;return(0,a.jsxs)("div",{className:k()(t,"flex flex-col text-accent-1"),children:[(0,a.jsx)(i.kW,{className:"mx-auto mb-8",sizeClassName:"w-10 h-10"}),(0,a.jsxs)("div",{className:"text-inverse opacity-60",children:[(0,a.jsx)("p",{className:"mb-4 text-center mx-8",children:n("wereGettingMoreData","We're getting some more data to make sure you can deposit.")}),(0,a.jsx)("p",{className:"text-center mx-8",children:n("thisMightTakeAFewSecondsAndYouMayNeedToReload","This might take a few seconds, and you may need to reload the page.")})]}),(0,a.jsx)("button",{className:" underline",onClick:function(){return window.location.reload()},children:n("reloadPage","Reload page")})]})},z=n(59182),Z=function(e){var t=e.chainId,n=e.prizePool,r=e.token,o=e.ticket,s=e.amountToDeposit,l=e.depositAllowance,u=e.isDataFetched,O=e.approveTx,w=e.depositTx,N=e.isOpen,k=e.sendApproveTx,P=e.sendDepositTx,D=e.resetState,C=e.closeModal,T=s.amountUnformatted,I=(0,c.$)().t;return(0,b.C)(t)?u?T&&null!==l&&void 0!==l&&l.allowanceUnformatted.lt(T)?(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("approveDeposits","Approve deposits")}),(0,a.jsx)(S,{amountToDeposit:s,chainId:t,approveTx:O,sendApproveTx:k,className:"mt-8"})]}):w&&w.sent?w.error?(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("errorDepositing","Error depositing")}),(0,a.jsxs)("p",{className:"my-2 text-accent-1 text-center mx-8",children:["\ud83d\ude14 ",I("ohNo","Oh no"),"!"]}),(0,a.jsx)("p",{className:"mb-8 text-accent-1 text-center mx-8",children:I("somethingWentWrongWhileProcessingYourTransaction","Something went wrong while processing your transaction.")}),(0,a.jsx)(i.LE,{theme:i.kY.tealOutline,className:"w-full",onClick:function(){D(),C()},children:I("tryAgain","Try again")})]}):(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("depositSubmitted","Deposit submitted")}),(0,a.jsx)(B,{}),(0,a.jsx)(y.i,{className:"mt-8 w-full",chainId:t,tx:w}),(0,a.jsx)(M,{})]}):(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("depositConfirmation")}),(0,a.jsxs)("div",{className:"w-full mx-auto mt-8 space-y-8",children:[(0,a.jsx)(g.s,{title:I("depositTicker",{ticker:r.symbol}),chainId:t,from:r,to:o,amount:s}),(0,a.jsx)(E,{chainId:t,amountToDeposit:s}),(0,a.jsxs)(h.Zn,{children:[(0,a.jsx)(x.P,{amount:s,prizePool:n,action:v.mq.deposit}),(0,a.jsx)(W,{amount:s,ticket:o}),(0,a.jsx)(f.XB,{chainId:t,amountUnformatted:T})]}),(0,a.jsx)(d.G,{className:"mt-8 w-full",chainId:t,toolTipId:"deposit-tx-".concat(t),onClick:P,disabled:(null===w||void 0===w?void 0:w.inWallet)&&!w.cancelled&&!w.completed,children:I("confirmDeposit","Confirm deposit")})]})]}):(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("loadingYourData","Loading your data")}),(0,a.jsx)(A,{className:"mt-8"})]}):(0,a.jsxs)(j.R,{label:I("confirmDepositModal","Confirm deposit - modal"),open:N,onDismiss:C,className:"flex flex-col space-y-4",children:[(0,a.jsx)(m.r,{chainId:t,title:I("wrongNetwork","Wrong network")}),(0,a.jsx)(p.F,{chainId:t,className:"mt-8"})]})},W=function(e){var t=e.amount,n=e.ticket,r=(0,c.$)().t;return(0,a.jsx)(h.Of,{label:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.u,{id:"tooltip-ticket-representes-".concat(n.address),tip:r("ticketRepresentsChanceToWin","The {{ticket}} token represents your chance to win.",{ticket:n.symbol}),children:r("tickerToReceive",{ticker:n.symbol})})}),value:t.amountPretty})},B=function(){var e=(0,c.$)().t,t=(0,z.Y)((0,u.msToS)(function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}(new Date,2).getTime()));return(0,a.jsxs)(C,{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"mb-2",children:e("disclaimerComeBackRegularlyToClaimWinnings",{date:t})}),(0,a.jsx)("a",{href:"https://docs.pooltogether.com/faq/prizes-and-winning",target:"_blank",rel:"noopener noreferrer",className:"underline text-xs",children:e("learnMore","Learn more")})]})},M=function(){var e=(0,c.$)().t,t=(0,l.useRouter)();return(0,a.jsx)(s.default,{href:{pathname:"/account",query:t.query},children:(0,a.jsx)(i._8,{size:i.rZ.md,theme:i.kY.tealOutline,className:"w-full text-center",children:e("viewAccount","View account")})})}},40530:function(e,t,n){"use strict";n.d(t,{x_:function(){return P},Rp:function(){return N},Yn:function(){return k},$y:function(){return C}});var r=n(26265),a=n(85893),o=(n(67294),n(26793)),s=n(11163),i=n(19301),c=n(41823),l=n(7541),u=n(38949),d=n(62489),p=function(e){var t=e.onClick,n=e.label,r=e.inFlight,o=e.inFlightLabel,s=e.className,i=e.type,c=e.disabled;return r?(0,a.jsxs)(d.LE,{disabled:!0,onClick:t,type:i,className:s,children:[(0,a.jsx)(d.kW,{className:"mr-2",size:16}),o]}):(0,a.jsx)(d.LE,{disabled:c,onClick:t,type:i,className:s,children:n})},m=n(84366),f=n(55682),h=n(37646),b=n(19665),v=n(7794),x=n(30446),j=n(57989),g=function(e){var t=e.prizePool,n=e.className,r=e.widthClassName,s=e.form,i=e.inputKey,c=(0,o.$)().t,l=t.chainId,u=(0,j.b)(),p=(0,v.LA)(t).data,m=(0,x.IO)(u,t).data,f=null===p||void 0===p?void 0:p.token,h=null===m||void 0===m?void 0:m.balances.token,b=y(t);return(0,a.jsx)(d.Uz,{className:n,widthClassName:r,form:s,inputKey:i,token:f,balance:h,isWalletConnected:Boolean(u),chainId:l,t:c,validate:b,i18nKey:"amount"})};g.defaultProps={widthClassName:"w-full"};var y=function(e){var t=(0,o.$)().t,n=(0,j.b)(),r=(0,v.LA)(e).data,a=(0,x.IO)(n,e).data,s=null===r||void 0===r?void 0:r.token,i=null===s||void 0===s?void 0:s.decimals,c=(0,b.b)(s),l=null===a||void 0===a?void 0:a.balances,u=null===l||void 0===l?void 0:l.token,d=null===l||void 0===l?void 0:l.ticket;return{isValid:function(e){if(isNaN(Number(e)))return!1;if(!c)return!1;var r=(0,h.safeParseUnits)(e,i);if(n){if(!u)return!1;if(!d)return!1;if(r&&u.amountUnformatted.lt(r))return t("insufficientFundsGetTokensBelow","Insufficient funds. Get or swap tokens below.");if(r&&c.amountUnformatted.gt(r))return t("minimumDepositOfAmountRequired","Minimum deposit of {{amount}} {{token}} required",{amount:c.amountPretty,token:s.symbol})}return!((0,h.getMaxPrecision)(e)>Number(i))&&(!r||!r.isZero())}}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N="amountToDeposit",k=function(e){var t=e.form,n=e.prizePool,r=e.depositTx,o=e.amountToDeposit,c=e.token,l=e.tokenBalance,d=e.openModal,p=(0,i._g)().isWalletConnected,m=(0,u.k)(n).data,f=t.handleSubmit,h=t.formState,b=h.errors,v=h.isValid,x=h.isDirty,j=(0,s.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:f((function(e){var t=j.query,n=j.pathname,r=e[N];t[N]=r,j.replace({pathname:n,query:t},null,{scroll:!1}),d()})),className:"w-full",children:[(0,a.jsx)("div",{className:"w-full mx-auto",children:(0,a.jsx)(g,{prizePool:n,className:"",form:t,inputKey:N})}),(0,a.jsx)(C,{chainId:n.chainId,className:"mt-3",depositTx:r,depositAllowance:m,amountToDeposit:o,errors:x?b:null}),(0,a.jsx)(P,{className:"mt-4 w-full",disabled:!v&&x||(null===r||void 0===r?void 0:r.inFlight),depositTx:r,isWalletConnected:p,tokenBalance:l,token:c,amountToDeposit:o})]})})},P=function(e){return e.isWalletConnected?(0,a.jsx)(D,w({},e)):(0,a.jsx)(f.p,w({},e))},D=function(e){var t,n=e.className,r=e.token,s=e.depositTx,i=e.disabled,c=e.amountToDeposit,l=(0,o.$)().t,u=c.amountUnformatted;return t=null!==u&&void 0!==u&&u.isZero()?l("enterAnAmountToDeposit"):l("reviewDeposit"),(0,a.jsx)(p,{disabled:i,className:n,inFlight:null===s||void 0===s?void 0:s.inFlight,label:t,inFlightLabel:l("depositingAmountTicker",{ticker:r.symbol}),type:"submit"})},C=function(e){var t=e.chainId,n=e.className,r=e.depositAllowance,s=e.amountToDeposit,i=e.depositTx,u=e.errors,d=(0,o.$)().t,p=u?Object.values(u):null;if(p&&p.length>0&&""!==p[0].message&&(null===i||void 0===i||!i.inFlight)){var f=p.map((function(e){return(0,a.jsx)("span",{className:"text-red font-semibold",children:e.message},e.message)}));return(0,a.jsx)(c.Q4,{bgClassName:"bg-pt-purple-lighter dark:bg-pt-purple-dark",className:n,children:(0,a.jsx)(c.Of,{label:d("issues","Issues"),value:(0,a.jsx)("div",{children:f})})})}return null!==i&&void 0!==i&&i.inFlight?(0,a.jsx)(c.Q4,{className:n,children:(0,a.jsx)(l.v,{depositTx:i,chainId:t})}):(0,a.jsx)(c.Q4,{className:n,children:null!==r&&void 0!==r&&r.isApproved?(0,a.jsx)(m.uX,{chainId:t,amountUnformatted:s.amountUnformatted}):(0,a.jsx)(m.p5,{chainId:t,amountUnformatted:s.amountUnformatted})})}}}]);