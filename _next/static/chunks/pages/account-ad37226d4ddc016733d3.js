(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7966],{60314:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var a=n(85893),r=n(62489),i=n(26793),s=n(94184),o=n.n(s),d=(n(67294),n(54012)),u=function(e){var t=e.chainId,n=e.tx,s=e.className,u=e.closeModal,l=e.hideCloseButton,c=(0,i.$)().t;return(0,a.jsxs)("div",{className:o()("flex flex-col",s),children:[(0,a.jsx)(d.i,{className:"w-full",chainId:t,tx:n}),!l&&(0,a.jsx)(r.LE,{onClick:function(){return u()},theme:r.kY.purpleOutline,size:r.rZ.sm,className:"w-full mt-4",children:c("close","Close")})]})};u.defaultProps={hideCloseButton:!1}},53738:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var a=n(85893),r=(n(67294),n(94184)),i=n.n(r),s=n(62489),o=function(e){var t=e.className,n=e.chainId,r=e.sizeClassName,o=e.token;return o?(0,a.jsxs)("div",{className:i()("flex items-center",t),children:[(0,a.jsx)(s.T1,{sizeClassName:r,className:"mr-2",chainId:n,address:o.address}),(0,a.jsx)("span",{className:"",children:o.symbol})]}):null}},60245:function(e,t,n){"use strict";n.d(t,{W9:function(){return l},w7:function(){return c},GO:function(){return p}});var a=n(26265),r=n(809),i=n.n(r),s=n(92447),o=n(42382),d=n(88767);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var l="usePrizeDistributorToken",c=function(e){return(0,d.useQuery)([l,null===e||void 0===e?void 0:e.id()],(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p(e));case 1:case"end":return t.stop()}}),t)}))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.u))},p=function(){var e=(0,s.Z)(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTokenData();case 2:return n=e.sent,e.next=5,t.getTokenContract();case 5:return a=e.sent,r={address:a.address,symbol:n.symbol,name:n.name,decimals:n.decimals},e.abrupt("return",{prizeDistributorId:t.id(),token:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},86551:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var a=n(84299),r=function(){var e=(0,a.R)();return null===e||void 0===e?void 0:e.prizeDistributors}},45571:function(e,t,n){"use strict";n.d(t,{bq:function(){return m},R:function(){return f},fY:function(){return b}});var a=n(809),r=n.n(a),i=n(92447),s=n(26265),o=n(88767),d=n(42382),u=n(15851),l=n(34985),c=n(60245);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m="useUsersClaimedAmounts",f=function(e,t){var n=(0,l.K6)(t),a=n.data,r=n.isFetched,i=(0,c.w7)(t),s=i.data,u=i.isFetched,p=Boolean(t)&&Boolean(e)&&r&&u,f=null===a||void 0===a?void 0:a.drawIds,h=null===s||void 0===s?void 0:s.token;return(0,o.useQuery)([m,null===t||void 0===t?void 0:t.id(),e],(function(){return b(e,t,f,h)}),y(y({},d.u),{},{enabled:p}))},b=function(){var e=(0,i.Z)(r().mark((function e(t,n,a,i){var s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getUsersClaimedAmounts(t,a);case 2:return s=e.sent,o={},a.map((function(e){o[e]=(0,u.C)(s[e],i.decimals)})),e.abrupt("return",{token:i,prizeDistributorId:n.id(),usersAddress:t,claimedAmounts:o});case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},34985:function(e,t,n){"use strict";n.d(t,{$y:function(){return p},K6:function(){return y},rU:function(){return m}});var a=n(26265),r=n(809),i=n.n(r),s=n(92447),o=n(88767),d=n(42382),u=n(78122);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="useValidDrawIds",y=function(e){var t=(0,u.H)(),n=t.data,a=t.isFetched&&Boolean(e);return(0,o.useQuery)([p,null===e||void 0===e?void 0:e.id(),null===n||void 0===n?void 0:n.drawId],(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m(e));case 1:case"end":return t.stop()}}),t)}))),c(c({},d.u),{},{enabled:a}))},m=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getValidDrawIds();case 2:return n=e.sent,e.abrupt("return",{prizeDistributorId:t.id(),drawIds:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},94093:function(e,t,n){"use strict";n.d(t,{Kb:function(){return y},Ij:function(){return m},$8:function(){return f}});var a=n(26265),r=n(809),i=n.n(r),s=n(92447),o=n(88767),d=n(42382),u=n(78122),l=n(34985);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y="useValidDraws",m=function(e){var t=(0,u.H)(),n=t.data,a=t.isFetched,r=(0,l.K6)(e),c=r.data,m=r.isFetched,b=a&&m&&Boolean(e),h=null===c||void 0===c?void 0:c.drawIds;return(0,o.useQuery)([y,null===e||void 0===e?void 0:e.id(),null===n||void 0===n?void 0:n.startedAtSeconds.toString()],(0,s.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f(e,h));case 1:case"end":return t.stop()}}),t)}))),p(p({},d.u),{},{enabled:b}))},f=function(){var e=(0,s.Z)(i().mark((function e(t,n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDraws(n);case 2:return a=e.sent,e.abrupt("return",{prizeDistributorId:t.id(),draws:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},43039:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ka}});var a=n(85893),r=n(67294),i=n(97285),s=n(26265),o=n(60138),d=n(68776),u=n(94184),l=n.n(u),c=n(26793),p=n(62489),y=n(55682),m=function(e){var t=e.className,n=(0,c.$)().t;return(0,a.jsxs)(p.Zb,{className:l()("flex flex-col mx-auto",t),children:[(0,a.jsxs)("div",{className:"text-xs text-accent-1 font-inter mx-auto mt-2 mb-8 flex flex-col space-y-4",children:[(0,a.jsx)("span",{className:"text-lg text-inverse font-semibold",children:n("poolTogetherIsACrossChainProtocol","PoolTogether is a cross-chain Prize Pool liquidity protocol.")}),(0,a.jsx)("span",{children:n("toInteractWithTheProtocol","To interact with the protocol you will need to have your own Ethereum wallet.")}),(0,a.jsxs)("span",{children:[n("forMoreInfoOnWalletSee","Connect to your existing wallet or"),(0,a.jsx)("a",{href:"https://docs.pooltogether.com/",target:"_blank",rel:"noreferrer noopener",className:"underline hover:opacity-70 transition-opacity ml-1",children:n("learnMoreAboutProtocol")}),"."]})]}),(0,a.jsx)(y.p,{})]})},f=n(95062),b=n(21046),h=n(86645),x=n(57989),v=n(8396),T=n(65986),w=n(91747),g=n(69806),j=n(24530),k=n(809),O=n.n(k),N=n(92447),P=n(42382),I=n(88767),C=n(86551),M=n(60245);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=n(78122),E=n(34985),z=function(){var e=(0,S.H)(),t=e.data,n=e.isFetched,a=(0,C.k)();return(0,I.useQueries)(a.map((function(e){return{queryKey:[E.$y,null===e||void 0===e?void 0:e.id(),null===t||void 0===t?void 0:t.drawId],queryFn:function(){var t=(0,N.Z)(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.rU)(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),enabled:n}})))},A=n(45571);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){var t=(0,C.k)(),n=function(){var e=(0,C.k)();return(0,I.useQueries)(e.map((function(e){return F(F({},P.u),{},{queryKey:[M.W9,null===e||void 0===e?void 0:e.id()],queryFn:function(){var t=(0,N.Z)(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,M.GO)(e));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})})))}(),a=z(),r=n.every((function(e){return e.isFetched})),i=a.every((function(e){return e.isFetched}));return(0,I.useQueries)(t.map((function(t){return B(B({},P.u),{},{queryKey:[A.bq,null===t||void 0===t?void 0:t.id(),e],queryFn:function(){var r=(0,N.Z)(O().mark((function r(){var i,s,o,d;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=a.find((function(e){return e.data.prizeDistributorId===t.id()})),s=n.find((function(e){return e.data.prizeDistributorId===t.id()})),o=i.data.drawIds,d=s.data.token,r.abrupt("return",(0,A.fY)(e,t,o,d));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),enabled:r&&Boolean(e)&&i})})))},U=n(61948),W=n(3532),$=n.n(W),_=n(94093),V=function(e){var t=(0,C.k)(),n=R(e),a=function(){var e=z(),t=(0,S.H)(),n=t.data,a=t.isFetched,r=(0,C.k)();return(0,I.useQueries)(r.map((function(t){var r=e.find((function(e){var n=e.data;return!!e.isFetched&&n.prizeDistributorId===t.id()})),i=Boolean(r)&&r.isFetched,s=null===r||void 0===r?void 0:r.data.drawIds;return{queryKey:[_.Kb,null===t||void 0===t?void 0:t.id(),null===n||void 0===n?void 0:n.drawId],queryFn:function(){var e=(0,N.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.$8)(t,s));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:a&&i}})))}(),r=n.every((function(e){return e.isFetched})),i=a.every((function(e){return e.isFetched}));if(!r||!i)return{data:null,isFetched:!1};var s=[];return t.forEach((function(e){var t=e.chainId,r=e.id(),i=a.find((function(e){return e.data.prizeDistributorId===r})),o=n.find((function(e){return e.data.prizeDistributorId===r})),d=i.data.draws,u=o.data.claimedAmounts,l=o.data.token;Object.keys(u).forEach((function(e){var n=Number(e),a=u[n];if(!a.amountUnformatted.isZero()){var i=d[n];s.push({token:l,prizeDistributorId:r,chainId:t,drawId:n,claimedAmount:a,draw:i})}}))})),{data:s.reverse(),isFetched:!0}},L=n(59182);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var q,H=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],i=function(e){var t=(0,j.D)(),n=t.data,a=t.isFetched,r=R(e);if(!r.every((function(e){return e.isFetched}))||!a)return{data:null,isFetched:!1};var i=r.reduce((function(e,t){var n=Object.values(t.data.claimedAmounts).reduce((function(e,t){return e.add(t.amountUnformatted)}),w.O$.from(0));return e.add(n)}),w.O$.from(0));return{data:(0,g.T)(i,n),isFetched:!0}}((0,x.b)()),s=i.data,o=i.isFetched,d=(0,c.$)().t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:function(){return n(!0)},className:"px-2 py-4 xs:px-4 bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 rounded-lg flex justify-between font-bold text-inverse",children:[(0,a.jsxs)("span",{children:["\ud83c\udf89 ",d("totalClaimedWinningsExclamation","Total claimed winnings!")]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"relative rounded-full bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 px-3",children:o?(0,a.jsxs)(a.Fragment,{children:["$",(0,a.jsx)(U.I,{countTo:o?Number(s.amount):0})]}):(0,a.jsx)(p.kW,{sizeClassName:"w-3 h-3",className:"mx-auto"})}),(0,a.jsx)(f.Z,{icon:"chevron-right",className:"w-6 h-6 opacity-50 my-auto ml-1"})]})]}),(0,a.jsx)(Y,{totalClaimedAmount:s,open:t,onDismiss:function(){return n(!1)}})]})},Y=function(e){var t=e.open,n=e.onDismiss,r=e.totalClaimedAmount,i=(0,c.$)().t;return(0,a.jsxs)(v.R,{open:t,onDismiss:n,className:"flex flex-col space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center mx-auto",children:[(0,a.jsx)("img",{src:$(),className:"mr-2",style:{width:"38px"}}),(0,a.jsxs)("div",{className:"flex flex-col leading-none",children:[(0,a.jsxs)("span",{className:"font-bold text-xl mb-1",children:["$",(null===r||void 0===r?void 0:r.amountPretty)||"--"]}),(0,a.jsx)("span",{className:"uppercase opacity-50 font-semibold text-xxs",children:i("totalWinnings")})]})]}),(0,a.jsx)(Q,{}),(0,a.jsx)(ee,{})]})},Q=function(e){var t=(0,x.b)(),n=V(t),r=n.data,i=n.isFetched,o=(0,c.$)().t,d=[(0,a.jsx)(X,{},"loadingrow1"),(0,a.jsx)(X,{},"loadingrow2"),(0,a.jsx)(X,{},"loadingrow3")];if(i){if(0===r.length)return(0,a.jsx)(J,{});d=r.map((function(e){return(0,a.jsx)(G,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),"".concat(e.prizeDistributorId,"-").concat(e.drawId))}))}return(0,a.jsxs)("ul",{className:"space-y-3 bg-actually-black bg-opacity-10 dark:bg-white dark:bg-opacity-5 p-4 rounded-lg max-h-80 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3 xs:grid-cols-4 opacity-50 font-bold",children:[(0,a.jsx)("div",{className:"xs:col-span-2",children:o("prizeAmountString","Prize amount")}),(0,a.jsx)("div",{className:"text-right",children:o("draw")}),(0,a.jsx)("div",{className:"text-right",children:o("date","Date")})]}),d]})},G=function(e){var t=e.token,n=(e.prizeDistributorId,e.chainId),r=e.drawId,i=e.claimedAmount,s=e.draw;return(0,a.jsxs)("li",{className:"grid grid-cols-3 xs:grid-cols-4",children:[(0,a.jsxs)("div",{className:"flex items-center xs:col-span-2",children:[(0,a.jsx)(p.T1,{className:" mr-2",chainId:n,address:t.address}),(0,a.jsx)("span",{className:"font-bold mr-1",children:i.amountPretty}),(0,a.jsx)("span",{className:"text-xxxxs opacity-50",children:t.symbol})]}),(0,a.jsxs)("div",{className:"text-right",children:["#",r]}),(0,a.jsx)("div",{className:"text-right",children:(0,L.Y)(s.beaconPeriodStartedAt.toNumber()+s.beaconPeriodSeconds,{month:"short",day:"numeric",year:"numeric"})})]})},X=function(){return(0,a.jsx)("div",{className:"rounded-lg bg-actually-black bg-opacity-20 dark:bg-white dark:bg-opacity-10 animate-pulse w-full h-10"})},J=function(){var e=(0,c.$)().t;return(0,a.jsxs)("div",{className:"rounded-lg bg-actually-black bg-opacity-5 dark:bg-white dark:bg-opacity-5 p-4 flex flex-col text-center",children:[(0,a.jsx)("span",{className:"font-bold opacity-70",children:e("noPrizesYet","No prizes... Yet.")}),(0,a.jsx)("span",{className:"text-9xl",children:"\ud83e\udd1e"})]})},ee=function(){return(0,a.jsx)("span",{className:"text-xxs text-center opacity-50 px-6",children:(0,a.jsx)(T.c,{i18nKey:"claimedPrizesDisclaimer",components:{a:(0,a.jsx)("a",{className:"underline text-xxs hover:opacity-100",href:"https://v4.docs.pooltogether.com/protocol/reference/smart-contracts#draw-beacon--draw-buffer"})}})})},te=n(40510),ne=n.n(te),ae=n(37646),re=n(93547),ie=n(92466),se=n(30446),oe=function(e){var t=(0,ie.I)(),n=(0,re.n)(),a=n.every((function(e){return e.isFetched})),i=(0,I.useQueries)(t.map((function(t){return{queryKey:[se.SE,t.id(),e],queryFn:function(){var a=(0,N.Z)(O().mark((function a(){var r,i;return O().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=null===n||void 0===n?void 0:n.find((function(e){return e.data.prizePoolId===t.id()})),i=r.data,a.abrupt("return",(0,se.yk)(t,e,i));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),enabled:a}})));return(0,r.useMemo)((function(){var e=i.every((function(e){return e.isFetched})),t=i.some((function(e){return e.isFetching})),n=i.map((function(e){return e.data})),a=de(n);return{isFetched:e,isFetching:t,refetch:function(){return i.map((function(e){return e.refetch()}))},data:{balances:n,totalValueUsd:(0,g.T)(a,"2"),totalValueUsdScaled:a}}}),[i])},de=function(e){var t=w.O$.from(0);return e.forEach((function(e){if(e){e.prizePool;var n=e.balances,a=(0,ae.toScaledUsdBigNumber)(n.ticket.amount);t=t.add(a)}})),t},ue=n(85132),le=n(75263),ce=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"}],name:"addMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"renounceMinter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"isMinter",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}],pe=n(73092),ye=Object.freeze((q={},(0,s.Z)(q,le.APP_ENVIRONMENTS.mainnets,[ae.NETWORK.mainnet,ae.NETWORK.bsc,ae.NETWORK.polygon,ae.NETWORK.celo]),(0,s.Z)(q,le.APP_ENVIRONMENTS.testnets,[ae.NETWORK.rinkeby]),q)),me=function(){var e=(0,pe.t)();return ye[e]};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var be=function(){var e=me();return(0,I.useQuery)(["useV3PrizePools",e],(function(){return(0,le.getPoolsByChainIds)(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},P.u))};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(){var e=(0,N.Z)(O().mark((function e(t,n,a,r){var i,s,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r.map((function(e){var n=e.tokens.ticket.address,a=e.tokens.sponsorship.address,r=(0,ue.contract)(n,ce,n),s=(0,ue.contract)(a,ce,a);i.push(r.balanceOf(t),s.balanceOf(t))})),e.next=4,ue.batch.apply(void 0,[n].concat(i));case 4:return s=e.sent,o={},Object.keys(s).forEach((function(e){var t=s[e].balanceOf[0],n=Te(e,r),a=we(e,n),i=(0,g.T)(t,a.decimals),d=(0,ae.amountMultByUsd)(t,a.usd),u=(0,g.T)(d,a.decimals),l=(0,ae.toScaledUsdBigNumber)(u.amount);o[e]=xe(xe({prizePool:n},a),{},{usdPrice:a.usd,balance:i,balanceValueUsdScaled:l,balanceUsd:u})})),e.abrupt("return",{chainId:a,tokens:o});case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Te=function(e,t){return t.find((function(t){return t.tokens.ticket.address===e||t.tokens.sponsorship.address===e}))},we=function(e,t){return Object.values(t.tokens).find((function(t){return t.address===e}))},ge=function(e){var t=function(e){var t=me(),n=(0,le.useReadProviders)(t),a=be(),r=a.data,i=a.isFetched;return(0,I.useQueries)(t.map((function(t){return xe(xe({},P.u),{},{queryKey:["useUsersV3Balances",e,t],queryFn:function(){var a=(0,N.Z)(O().mark((function a(){return O().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",ve(e,n[t],t,null===r||void 0===r?void 0:r[t]));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),enabled:i&&Boolean(e)})})))}(e);return(0,r.useMemo)((function(){var e=function(){var e=(0,N.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.forEach((function(e){return e.refetch()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!t.every((function(e){return e.isFetched})))return{isFetching:!0,isFetched:!1,refetch:e,data:null};var n=[],a=w.O$.from(0);t.forEach((function(e){var t,r=[];null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.tokens&&(r=Object.values(e.data.tokens)),r.forEach((function(e){e.balance.amountUnformatted.isZero()||(n.push(e),a=a.add(e.balanceValueUsdScaled))}))}));var r=(0,g.T)(a,"2");return{isFetching:!1,isFetched:!0,refetch:e,data:{balances:n,totalValueUsdScaled:a,totalValueUsd:r}}}),[t])},je=n(75093);var ke=n(40355);function Oe(e){return function(e){if(Array.isArray(e))return(0,je.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||(0,ke.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"BatchFloat",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20Upgradeable",name:"target",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20Withdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC721Upgradeable",name:"target",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721Withdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousmanager",type:"address"},{indexed:!0,internalType:"address",name:"newmanager",type:"address"}],name:"ManagementTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PodClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract TokenDrop",name:"drop",type:"address"}],name:"TokenDropSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract TokenFaucet",name:"drop",type:"address"}],name:"TokenFaucetSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdrawal",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"batch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenAmount",type:"uint256"}],name:"depositTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"drop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Upgradeable",name:"_token",type:"address"},{internalType:"address",name:"_target",type:"address"}],name:"emergencyTokenApproveZero",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"faucet",outputs:[{internalType:"contract TokenFaucet",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"getEarlyExitFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_prizePoolTarget",type:"address"},{internalType:"address",name:"_ticket",type:"address"},{internalType:"uint8",name:"_decimals",type:"uint8"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizePool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newManager",type:"address"}],name:"setManager",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract TokenDrop",name:"_tokenDrop",type:"address"}],name:"setTokenDrop",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract TokenFaucet",name:"_faucet",type:"address"}],name:"setTokenFaucet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticket",outputs:[{internalType:"contract IERC20Upgradeable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20Upgradeable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenDrop",outputs:[{internalType:"contract TokenDrop",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"shareAmount",type:"uint256"},{internalType:"uint256",name:"maxFee",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Upgradeable",name:"_target",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Upgradeable",name:"_target",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"withdrawERC721",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Pe=n(96486),Ie=n(47100),Ce=n(56371);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(){var e=(0,N.Z)(O().mark((function e(t,n){var a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t);case 2:return a=e.sent,e.next=5,ze(a,n);case 5:return a=e.sent,a=(0,ae.deserializeBigNumbers)(a),a=Be(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=(0,N.Z)(O().mark((function e(t){var n,a,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t),e.next=3,Promise.allSettled(n.map((function(e){return Ee(e,t[e])})));case 3:return a=e.sent,e.next=6,Promise.all(n.map(function(){var e=(0,N.Z)(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("fulfilled"!==(r=a[n]).status){e.next=6;break}return e.next=4,r.value.json();case 4:return i=e.sent,e.abrupt("return",{chainId:t,pods:i});case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).filter(Boolean));case 6:return r=e.sent,i={},r.map((function(e){i[e.chainId]=e.pods})),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,N.Z)(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://pooltogether-api.com","/pods/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=(0,N.Z)(O().mark((function e(t,n){var a,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t),e.next=3,Promise.allSettled(a.map((function(e){return Ze(e,n[e],t[e])})));case 3:return r=e.sent,i={},r.forEach((function(e){if("fulfilled"===e.status){var t=e.value;t&&t.length>0&&(i[t[0].metadata.chainId]=t)}})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(e){return"pod-".concat(e)},Ze=function(){var e=(0,N.Z)(O().mark((function e(t,n,a){var r,i,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a.map((function(e){var t=(0,ue.contract)(Ae(e.pod.address),Ne,e.pod.address);r.push(t.totalSupply().getPricePerShare().balance().decimals())})),e.next=4,ue.batch.apply(void 0,[n].concat(r));case 4:return i=e.sent,s=a.map((function(e){var t=i[Ae(e.pod.address)],n=t.decimals[0],a=t.totalSupply[0],r=(0,Ce.formatUnits)(a,n),s=t.getPricePerShare[0],o=(0,Ce.formatUnits)(s,n),d=t.balance[0],u=(0,Ce.formatUnits)(d,n);return De(De({},e),{},{pod:De(De({},e.pod),{},{decimals:n,totalSupplyUnformatted:a,totalSupply:r,pricePerShareUnformatted:s,pricePerShare:o,balanceUnformatted:d,balance:u})})})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Be=function(e){var t=Object.keys(e),n={};return t.map((function(t){var a=Re(e[t]);n[t]=a})),n},Re=function(e){return e.map((function(e){var t=(0,ae.addBigNumbers)([e.tokens.ticket.totalSupplyUnformatted,e.tokens.sponsorship.totalSupplyUnformatted]),n=(0,ae.calculateUsersOdds)(e.pod.balanceUnformatted,t,e.tokens.underlyingToken.decimals,e.prizePool.config.numberOfWinners);return De(De({},e),{},{pod:De(De({},e.pod),{},{odds:n})})}))},Ue=function(e){var t=(0,le.usePodChainIds)(),n=(0,le.useReadProviders)(t),a=function(e){var t=(0,le.usePodChainIds)(),n={};t.map((function(e){n[e]=Ie.podContractAddresses[e]}));var a=!(0,Pe.isEmpty)(e);return(0,I.useQuery)(["getPods",t],(function(){return Fe(n,e)}),{refetchInterval:(0,ae.sToMs)(30),enabled:a})}(n),r=a.data,i=a.isFetched&&Boolean(r)&&Boolean(e);return(0,I.useQuery)(["useAllUsersV3PodBalances",e],(function(){return We(n,t,r,e)}),{enabled:i,refetchInterval:(0,ae.sToMs)(20)})},We=function(){var e=(0,N.Z)(O().mark((function e(t,n,a,r){var i,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return $e(r,t[e],a[e])})));case 2:return i=e.sent,s={},n.map((function(e,t){s[e]=i[t]})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$e=function(){var e=(0,N.Z)(O().mark((function e(t,n,a){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],a.forEach((function(e){var n=(0,ue.contract)(e.tokens.podStablecoin.address,Ne,e.tokens.podStablecoin.address);r.push(n.balanceOfUnderlying(t))})),e.next=4,ue.batch.apply(void 0,[n].concat(r));case 4:return i=e.sent,e.abrupt("return",_e(a,i));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_e=function(e,t){var n=[];return e.forEach((function(e){var a=e.tokens.podStablecoin,r=a.usd,i=a.decimals,o=t[e.tokens.podStablecoin.address].balanceOfUnderlying[0],d=(0,g.T)(o,i),u=(0,ae.amountMultByUsd)(o,r),l=(0,g.T)(u,i),c=(0,ae.toScaledUsdBigNumber)(l.amount),p={pod:e,address:a.address,decimals:i,derivedETH:a.derivedETH,name:a.name,symbol:a.symbol,usdPrice:r,balance:d,balanceUsd:l,balanceValueUsdScaled:c};(0,ae.addTokenTotalUsdValue)(p,(0,s.Z)({},p.address,e.tokens.podStablecoin)),n.push(p)})),n};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=function(e){var t=Ue(e);return(0,r.useMemo)((function(){var e=t.isFetched,n=t.data;if(!e)return Le(Le({},t),{},{data:null});var a=[];Object.keys(n).map(Number).map((function(e){var t=n[e].filter((function(e){return!e.balance.amountUnformatted.isZero()}));a.push.apply(a,Oe(t))}));var r=a.reduce((function(e,t){return e.add(t.balanceValueUsdScaled)}),w.O$.from(0)),i=(0,g.T)(r,"2");return Le(Le({},t),{},{data:{balances:a,totalValueUsdScaled:r,totalValueUsd:i}})}),[t])},qe=n(20584),He=function(e){var t=e.user;return(0,a.jsxs)("div",{className:"flex flex-col p-4 pink-purple-gradient rounded-2xl space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between p-4",children:[(0,a.jsx)(Ye,{user:t}),(0,a.jsx)("img",{src:ne(),style:{width:"65px",height:"60px"}})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(Qe,{}),(0,a.jsx)(Ge,{})]}),(0,a.jsx)(H,{})]})},Ye=function(e){var t=e.className,n=(e.user,(0,c.$)().t),i=function(){var e=(0,x.b)(),t=oe(e),n=t.data,a=t.isFetched,i=t.isFetching,s=ge(e),o=s.data,d=s.isFetched,u=s.isFetching,l=Ke(e),c=l.data,p=l.isFetched,y=l.isFetching;return(0,r.useMemo)((function(){var e=a?n.totalValueUsdScaled:w.O$.from(0),t=d&&p?o.totalValueUsdScaled.add(c.totalValueUsdScaled):w.O$.from(0),r=e.add(t),s=(0,g.T)(r,"2");return{data:{totalV4BalanceUsd:(0,g.T)(e,"2"),totalV3BalanceUsd:(0,g.T)(t,"2"),totalBalanceUsd:s},isFetched:a&&d&&p,isFetching:i||u||y}}),[n,a,o,d])}(),s=i.data,o=i.isFetching;return(0,a.jsxs)("a",{href:"#deposits",className:t,children:[(0,a.jsx)("span",{className:"font-semibold uppercase text-xs",children:n("totalBalance","Total balance")}),(0,a.jsxs)("span",{className:"leading-none flex text-2xl xs:text-4xl font-bold relative",children:["$",(0,a.jsx)(U.I,{countTo:Number(s.totalBalanceUsd.amount)}),o?(0,a.jsx)(p.kW,{sizeClassName:"w-4 h-4",className:"ml-2 my-auto"}):(0,a.jsx)(f.Z,{icon:"chevron-right",className:"w-6 h-6 opacity-50 my-auto ml-1"})]})]})},Qe=function(){return(0,a.jsx)(Xe,{i18nKey:"dailyOdds",daysOfPrizes:1})},Ge=function(){return(0,a.jsx)(Xe,{i18nKey:"weeklyOdds",daysOfPrizes:7})},Xe=function(e){var t=e.i18nKey,n=e.daysOfPrizes,r=(0,x.b)(),i=(0,h.B)(r,qe.mq.none,b._Y,n),s=(0,c.$)().t;if(!Boolean(i))return(0,a.jsx)("div",{className:"bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 rounded-lg w-full p-4 flex flex-col leading-none text-center",children:(0,a.jsx)(p.kW,{sizeClassName:"w-5 h-5",className:"mx-auto"})});var o=i.odds,d=i.oneOverOdds;if(0===o)return(0,a.jsxs)("div",{className:"bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 rounded-lg w-full p-4 flex flex-col leading-none text-center",children:[(0,a.jsx)("span",{className:"font-bold flex text-lg mx-auto",children:1===n?"0 \ud83d\ude14":s("stillZero","Still 0")}),(0,a.jsxs)("span",{className:"mt-1 opacity-50 font-bold uppercase",children:[s(t),"*"]})]});var u=Number(d.toFixed(2))<1.01?1:d.toFixed(2);return(0,a.jsxs)("div",{className:"bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 rounded-lg w-full p-4 flex flex-col leading-none text-center",children:[(0,a.jsxs)("span",{className:"font-bold flex text-lg mx-auto",children:["1:",u]}),(0,a.jsxs)("span",{className:"mt-1 opacity-50 font-bold uppercase",children:[s(t),"*"]})]})},Je=n(19301),et=n(38347),tt=n(44539);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){var t,n=e.x,r=(0,et.Z)(e,["x"]),i=(0,j.D)(),s=i.data,o=i.isFetched,d=(0,qe.LT)(o?(0,tt.$)(n,s):void 0).data;return(0,a.jsx)("span",at(at({},r),{},{children:(0,a.jsx)(T.c,{i18nKey:"xDollarsGetsYouOdds",values:{dollars:n,odds:(null===d||void 0===d||null===(t=d.oneOverOdds)||void 0===t?void 0:t.toFixed(2))||"--"},components:{style1:(0,a.jsx)("b",{className:""}),style2:(0,a.jsx)("b",{})}})}))};rt.defaultProps={x:"10"};var it=function(e){var t=(0,c.$)().t;return(0,a.jsxs)("span",{className:l()("opacity-40 text-xxxs text-center mx-auto",e.className),children:["* ",(0,a.jsx)("span",{children:t("oddsDisclaimer")}),(0,a.jsxs)("a",{href:"https://docs.pooltogether.com/faq/prizes-and-winning",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1 text-xxxs",children:[t("readMore"),"."]})]})},st=n(41664),ot=n(11163),dt=n(66479),ut=n(9279),lt=n(41823),ct=n(87996),pt=n(7541),yt=n(87774),mt=n(15293),ft=n(45687),bt=function(e){var t=e.className,n=e.balance,r=e.prizePool,i=(0,c.$)().t,s=(0,x.b)(),o=(0,mt.C)(s,r),d=o.data,u=o.isFetched,p=o.refetch;return n&&!n.amountUnformatted.isZero()&&u&&(null===d||void 0===d?void 0:d[s])===ut.d?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:l()("flex flex-col mx-auto text-center px-4 pb-4",t),children:[(0,a.jsx)("span",{className:"my-auto opacity-50 px-2",children:i("toWinPrizesNeedToActivate")}),(0,a.jsx)(ht,{className:"mt-4 w-full mx-auto",prizePool:r,refetchDelegate:p})]})}):null},ht=function(e){var t=e.className,n=e.refetchDelegate,i=e.prizePool,s=(0,ft.p)(),o=(0,r.useState)(0),d=o[0],u=o[1],y=(0,le.useTransaction)(d),m=(0,c.$)().t,f=(0,yt.a)(i),b=function(){var e=(0,N.Z)(O().mark((function e(t){var a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s({name:"Activate deposits",method:"withdrawInstantlyFrom",callTransaction:function(){return f.selfDelegateTickets()},callbacks:{refetch:function(){n()}}});case 3:a=e.sent,u(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==y&&void 0!==y&&y.inFlight||null!==y&&void 0!==y&&y.completed&&(null===y||void 0===y||!y.error)&&(null===y||void 0===y||!y.cancelled)?(0,a.jsx)(lt.Q4,{children:(0,a.jsx)(pt.v,{depositTx:y,chainId:i.chainId})}):(0,a.jsx)(ct.G,{chainId:i.chainId,toolTipId:"activate-deposits-".concat(null===i||void 0===i?void 0:i.id()),className:l()("",t),size:p.rZ.sm,onClick:b,children:m("activateNetworkDeposit",{network:(0,ae.getNetworkNiceNameByChainId)(i.chainId)})})},xt=function(e){return(0,a.jsx)("div",{className:l()("flex space-x-2 items-center",e.className),children:(0,a.jsxs)("h5",{className:e.titleClassName,children:[e.title,e.secondary&&(0,a.jsx)("span",{className:l()("opacity-50 font-light ml-2",e.secondaryClassName),children:e.secondary})]})})},vt=n(42283),Tt=n(66776),wt=n(38758),gt=n(58270),jt=n(60314),kt=n(77616),Ot=n(59359);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It="w-full py-2 px-5 trans outline-none focus:outline-none active:outline-none leading-none",Ct=function(e){return(0,Pe.omit)(e,["alignLeft","label","small","large","marginClassName","paddingClassName","borderClassName","bgClassName","bgVarName","inlineButton","roundedClassName","textClassName","isError","isLight","register","required","patternForHookForm","tickerUpcased","validate","unsignedNumber","unsignedWholeNumber","rightLabel","bottomRightLabel"])},Mt=function(e){return l()(It,e.marginClassName,e.paddingClassName,e.borderClassName,e.bgClassName,e.textClassName,e.roundedClassName,e.className,{"text-red":e.isError})},Dt=function(e){var t=e.id,n=e.autoFocus,r=e.pattern,i=e.required,s=e.register,o=e.validate,d=Mt(e);return(0,a.jsx)("input",Pt(Pt({},Ct(e)),{},{autoFocus:n&&Ot.jU,className:l()(d,"focus:outline-none")},s(t,{required:i,pattern:r,validate:o})))};Dt.defaultProps={marginClassName:"",paddingClassName:"px-8 py-3",borderClassName:"border border-accent-3",bgClassName:"bg-input",textClassName:"text-xs",roundedClassName:"rounded-full"};var Ft=function(e){var t=e.id,n=e.autoFocus,r=(e.pattern,e.patternForHookForm),i=e.required,s=e.register,o=e.validate,d=e.readOnly,u=Mt(e);return(0,a.jsx)("input",Pt(Pt({},Ct(e)),{},{autoFocus:n&&Ot.jU,className:l()(u,{"text-accent-4":d}),style:{backgroundColor:d?"var(--color-bg-readonly-tsunami)":"",borderColor:d?"transparent":""}},s(t,{required:i,pattern:r,validate:o})))};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ft.defaultProps={marginClassName:"",paddingClassName:"px-8 py-4",borderClassName:"border-2 border-primary hover:border-secondary focus:border-secondary",bgClassName:"bg-transparent",textClassName:"text-xl text-right",roundedClassName:"rounded-lg",className:"font-inter font-semibold"};var zt="text-xs",At=Object.freeze({text:"text",number:"number"}),Zt=function(e){var t=e.symbolAndIcon,n=e.Input,r=e.id,i=e.label,s=e.rightLabel,o=e.disabled,d=e.readOnly,u=e.isError,p=e.isSuccess,y=e.large,m=e.unit,b=e.unsignedNumber,h=(e.unsignedWholeNumber,(0,et.Z)(e,["symbolAndIcon","Input","id","label","rightLabel","disabled","readOnly","isError","isSuccess","large","unit","unsignedNumber","unsignedWholeNumber"])),x=(0,c.$)().t,v="text",T="",w={};b&&(v="decimal",T="^[0-9]*[.,]?[0-9]*$",w={value:/^\d*\.?\d*$/,message:x("pleaseEnterAPositiveNumber")});var g,j,k=h.containerTextClassName,O=h.containerRoundedClassName,N=h.containerMarginClassName,P=h.containerBorderClassName,I=h.containerBgClassName,C=h.containerClassName,M=h.labelClassName,D=h.rightLabelClassName,F=h.unitsClassName,S=(0,et.Z)(h,["containerTextClassName","containerRoundedClassName","containerMarginClassName","containerBorderClassName","containerBgClassName","containerClassName","labelClassName","rightLabelClassName","unitsClassName"]);k=k||l()({"font-bold text-3xl":y,"text-xs":!y,"text-red-500":u,"text-accent-1":o}),O=O||"rounded-full",N=N||"mb-2",P=P||l()("border",{"border-red":u,"border-green-2":p,"border-transparent":!u&&!p,"hover:border-accent-3 focus-within:border-accent-3 focus-within:shadow-green":!o}),I=I||l()(I,{"bg-grey":o,"bg-card":d}),M=M||l()(zt,{"cursor-not-allowed text-accent-2":o,"text-accent-1":!o}),D=D||l()(zt,"text-right",{"cursor-not-allowed text-accent-2":o,"text-accent-1":!o}),F=F||l()("font-bold text-xs whitespace-no-wrap",{"cursor-not-allowed font-whitesmoke":o,"font-white":!o}),C=l()("trans",C,k,O,N,I),p?(g="check-circle",j="stroke-current text-green-2"):u&&(g="slash",j="stroke-current text-red");var E=(0,a.jsx)(n,Et(Et({},S),{},{inputMode:v,id:r,disabled:o,readOnly:d,pattern:T,patternForHookForm:w}));return(0,a.jsxs)("div",{className:C,children:[(0,a.jsxs)("div",{className:l()("flex flex-row",{"justify-between":s&&i,"justify-end":s&&!i}),children:[i&&(0,a.jsx)("label",{htmlFor:r,className:M,children:i}),s&&(0,a.jsx)("span",{className:D,children:s})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[t?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("div",{className:l()("rounded-xl font-inter absolute font-semibold text-lg cursor-default z-10",{"text-accent-4":d}),style:{top:18,left:30,background:e.bgVarName},children:(0,a.jsx)("span",{className:l()({"":d}),children:t})}),E]})}):E,(m||g)&&(0,a.jsxs)("div",{className:"pl-1",children:[m&&(0,a.jsx)("span",{className:F,children:m}),g&&(0,a.jsx)(f.Z,{icon:g,className:l()("w-4",j)})]})]})]})};Zt.defaultProps={Input:Dt,type:At.text};var Bt=n(53738),Rt=n(96566),Ut=n.n(Rt),Wt=function(e){var t=e.valueKey,n=e.disabled,r=e.setValue,i=e.isAmountZero,s=e.amount,o=e.tokenSymbol;return i?null:(0,a.jsxs)("button",{id:"_setMaxDepositAmount",type:"button",className:"font-bold inline-flex items-center text-accent-4",disabled:n,onClick:function(e){e.preventDefault(),r(t,s,{shouldValidate:!0})},children:[(0,a.jsx)("img",{src:Ut(),className:"mr-2",style:{maxHeight:12}}),(0,ae.numberWithCommas)(s)," ",o]})},$t=n(94001),_t=n(84366),Vt=n(67527),Lt=n(96144),Kt="withdrawal-quantity",qt=function(e){var t=e.form,n=e.user,r=e.prizePool,i=e.usersBalances,s=e.currentStep,o=e.amountToWithdraw,d=e.withdrawTx,u=e.sendWithdrawTx,l=e.setWithdrawTxId,c=e.setCurrentStep,p=e.setAmountToWithdraw,y=e.refetchBalances,m=i.ticket,f=i.token,b=n.chainId;return s===Jt.review?(0,a.jsx)(Yt,{user:n,prizePool:r,chainId:b,amountToWithdraw:o,token:f,ticket:m,tx:d,sendWithdrawTx:u,setCurrentStep:c,setTxId:l,refetchBalances:y}):(0,a.jsx)(Ht,{chainId:b,form:t,token:f,ticket:m,setCurrentStep:c,setAmountToWithdraw:p})},Ht=function(e){var t=e.chainId,n=e.form,r=e.token,i=e.ticket,s=e.setCurrentStep,o=e.setAmountToWithdraw,d=(0,c.$)().t,u=n.handleSubmit,l=n.formState,y=l.isValid,m=l.isDirty,f=l.errors,b=(0,n.watch)(Kt);return(0,a.jsxs)("form",{onSubmit:u((function(e){var t=e[Kt];o((0,tt.$)(t,r.decimals)),s(Jt.review)})),children:[(0,a.jsx)(Gt,{chainId:t,form:n,token:r,ticket:i}),(0,a.jsx)(rn,{}),(0,a.jsx)(Xt,{chainId:t,amount:b,token:r}),(0,a.jsx)(p._C,{errors:m?f:null,className:"opacity-75"}),(0,a.jsx)(en,{className:"mt-2"}),(0,a.jsx)(p.LE,{disabled:!y&&m,type:"submit",className:"w-full mt-8",children:d("reviewWithdrawal")})]})},Yt=function(e){var t=e.prizePool,n=e.amountToWithdraw,r=e.token,i=e.ticket,s=e.tx,o=e.sendWithdrawTx,d=(0,c.$)().t,u=(null===s||void 0===s?void 0:s.inWallet)&&!(null!==s&&void 0!==s&&s.error)&&!s.cancelled;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Lt.s,{title:d("withdrawTicker",{ticker:i.symbol}),chainId:t.chainId,from:i,to:r,amount:n}),(0,a.jsx)("div",{className:"my-8",children:(0,a.jsx)(tn,{prizePool:t,amountToWithdraw:n,token:r,ticket:i})}),(0,a.jsx)(ct.G,{chainId:t.chainId,toolTipId:"withdrawal-tx",className:"w-full",theme:p.kY.orangeOutline,onClick:o,disabled:u,children:(0,a.jsx)("span",{children:d("confirmWithdrawal")})})]})},Qt=function(e){var t=e.symbol,n=(0,c.$)().t;return(0,a.jsx)("div",{className:"font-inter font-semibold uppercase text-accent-3 opacity-60",children:n("withdrawTicker",{ticker:t})})},Gt=function(e){var t=e.disabled,n=e.chainId,r=e.form,i=e.token,s=e.ticket,o=r.register,d=r.setValue,u=(s.address,s.symbol),l=s.amount,p=s.amountUnformatted,y=s.hasBalance,m={isValid:function(e){if(!e)return!1;if(isNaN(e))return!1;var t=i.decimals;if((0,ae.getMaxPrecision)(e)>Number(t))return!1;var n=(0,Ce.parseUnits)(e,t);return!n.isZero()&&(!n.lt(b._Y)&&(!n.gt(p)||f("insufficientFunds")))}},f=(0,c.$)().t;return(0,a.jsx)(Zt,{unsignedNumber:!0,readOnly:t,Input:Ft,symbolAndIcon:(0,a.jsx)(Bt._,{chainId:n,token:s}),validate:m,containerBgClassName:"bg-transparent",containerRoundedClassName:"rounded-lg",bgClassName:"bg-body",placeholder:"0.0",id:Kt,name:Kt,autoComplete:"off",register:o,required:f("ticketQuantityRequired"),label:(0,a.jsx)(Qt,{symbol:s.symbol}),rightLabel:(0,a.jsx)(Wt,{valueKey:Kt,setValue:d,amount:l,tokenSymbol:u,isAmountZero:!y})})};Gt.defaultProps={disabled:!1};var Xt=function(e){var t=e.chainId,n=e.amount,r=e.token;return(0,a.jsx)(Zt,{readOnly:!0,disabled:!0,symbolAndIcon:(0,a.jsx)(Bt._,{chainId:t,token:r}),Input:Ft,roundedClassName:"rounded-lg",containerRoundedClassName:"rounded-lg",placeholder:"0.0",id:"result",name:"result",register:function(){},label:null,value:n})};Xt.defaultProps={borderClassName:"border-body"};var Jt,en=function(e){var t=(0,c.$)().t;return(0,a.jsx)("div",{className:l()("w-full py-1 px-4 text-xxs text-center rounded-lg bg-orange-darkened text-orange",e.className),children:t("withdrawingWillReduceYourOddsToWin","Withdrawing funds will decrease your chances to win prizes!")})},tn=function(e){var t=e.className,n=e.prizePool,r=e.amountToWithdraw,i=e.token,s=e.ticket;return(0,a.jsxs)(lt.Zn,{className:t,children:[(0,a.jsx)(Vt.P,{amount:r,prizePool:n,action:qe.mq.withdraw}),(0,a.jsx)(nn,{amount:null===r||void 0===r?void 0:r.amount,ticket:s}),(0,a.jsx)(an,{amount:null===r||void 0===r?void 0:r.amount,token:i}),(0,a.jsx)(_t.wI,{chainId:n.chainId,amountUnformatted:null===r||void 0===r?void 0:r.amountUnformatted})]})},nn=function(e){var t=e.amount,n=e.ticket,r=(0,c.$)().t,i=kt.parseUnits(t,n.decimals),s=n.amountUnformatted.sub(i),o=kt.formatUnits(s,n.decimals),d=(0,ae.numberWithCommas)(o),u=(0,ae.numberWithCommas)(o,{precision:(0,ae.getMaxPrecision)(o)});return(0,a.jsx)(lt.Of,{label:r("finalDepositBalance","Remaining balance"),value:(0,a.jsx)(p.u,{id:"final-ticket-balance",tip:"".concat(u," ").concat(n.symbol),children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-end",children:[(0,a.jsx)("span",{children:d}),(0,a.jsx)("span",{className:"ml-1",children:n.symbol})]})})})},an=function(e){var t=e.token,n=e.amount,r=(0,c.$)().t,i=(0,ae.numberWithCommas)(n,{precision:(0,ae.getMaxPrecision)(n)}),s=(0,ae.numberWithCommas)(n,{precision:(0,ae.getMaxPrecision)(n)});return(0,a.jsx)(lt.Of,{label:r("tickerToReceive",{ticker:t.symbol}),value:(0,a.jsx)(p.u,{id:"".concat(t.symbol,"-to-receive"),tip:"".concat(s," ").concat(t.symbol),children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-end",children:[(0,a.jsx)("span",{children:i}),(0,a.jsx)("span",{className:"ml-1",children:t.symbol})]})})})},rn=function(){return(0,a.jsx)($t.p,{className:"my-2 text-inverse"})};!function(e){e[e.input=0]="input",e[e.review=1]="review",e[e.viewTxReceipt=2]="viewTxReceipt"}(Jt||(Jt={}));var sn=function(e){var t=e.prizePool,n=e.balances,i=e.setWithdrawTxId,s=e.onDismiss,d=e.refetchBalances,u=(0,c.$)().t,l=n.token,p=(0,r.useState)(0),y=p[0],m=p[1],f=(0,le.useTransaction)(y),b=(0,r.useState)(),h=b[0],x=b[1],v=(0,r.useState)(Jt.input),T=v[0],w=v[1],g=(0,o.v)(),j=(0,ft.p)(),k=(0,Tt.C)(t.chainId),P=(0,vt.cI)({mode:"onChange",reValidateMode:"onChange"}),I=function(){var e=(0,N.Z)(O().mark((function e(t){var n,a,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=l.symbol,a={gasLimit:75e4},e.next=5,j({name:"".concat(u("withdraw")," ").concat(null===h||void 0===h?void 0:h.amountPretty," ").concat(n),method:"withdrawInstantlyFrom",callTransaction:function(){return g.withdraw(null===h||void 0===h?void 0:h.amountUnformatted,a)},callbacks:{onSent:function(){return w(Jt.viewTxReceipt)},refetch:function(){d()}}});case 5:r=e.sent,i(r),m(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?T===Jt.viewTxReceipt?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:t.chainId,title:u("withdrawalSubmitted","Withdrawal submitted")}),(0,a.jsx)(jt.v,{className:"mt-8",chainId:t.chainId,tx:f,closeModal:s,hideCloseButton:!0})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:t.chainId,title:u("withdrawTicker",{ticker:l.symbol})}),(0,a.jsx)(qt,{form:P,currentStep:T,setCurrentStep:w,user:g,prizePool:t,usersBalances:n,refetchBalances:d,amountToWithdraw:h,setAmountToWithdraw:x,withdrawTx:f,setWithdrawTxId:i,sendWithdrawTx:I})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:t.chainId,title:u("wrongNetwork","Wrong network")}),(0,a.jsx)(wt.F,{chainId:t.chainId,className:"mt-8"})]})},on=n(47361);function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(){var e=(0,c.$)().t,t=(0,x.b)(),n=oe(t).data;return(0,a.jsxs)("div",{id:"deposits",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(xt,{title:e("deposits"),secondary:"$".concat(null===n||void 0===n?void 0:n.totalValueUsd.amountPretty)})}),(0,a.jsx)("div",{className:"bg-pt-purple-lightest dark:bg-pt-purple rounded-lg p-4",children:(0,a.jsx)(cn,{})})]})},cn=function(){var e=(0,x.b)(),t=oe(e),n=t.data,r=t.isFetched,i=t.refetch;return r?(0,a.jsx)("ul",{className:"space-y-4",children:n.balances.map((function(e){return(0,a.jsx)(pn,un(un({},e),{},{refetchBalances:i}),"deposit-balance-"+e.prizePool.id())}))}):(0,a.jsx)(fn,{})},pn=function(e){var t=e.prizePool,n=e.balances,i=e.refetchBalances,s=(0,ot.useRouter)(),o=(0,r.useState)(!1),d=o[0],u=o[1],l=(0,dt.SU)().setSelectedChainId,y=(0,c.$)().t,m=(0,r.useState)(0),f=m[0],b=m[1],h=(0,le.useTransaction)(f),x=t.chainId,v=[{i18nKey:"prizePool",chainId:x,address:t.address},{i18nKey:"token",chainId:x,address:n.ticket.address},{i18nKey:"depositToken",chainId:x,address:n.token.address}],T=(0,on.p)(),w=(0,Tt.C)(x),g=function(){return u(!1)};return(0,a.jsxs)("li",{className:"transition bg-white bg-opacity-70 hover:bg-opacity-100 dark:bg-actually-black dark:bg-opacity-10 dark:hover:bg-opacity-20 rounded-lg ",children:[(0,a.jsxs)("button",{className:"p-4 w-full flex justify-between items-center",onClick:function(){l(x),u(!0)},children:[(0,a.jsx)(yn,{chainId:x}),(0,a.jsx)(mn,un({},e))]}),(0,a.jsx)(bt,{prizePool:t,balance:null===n||void 0===n?void 0:n.ticket}),(0,a.jsx)(p.yT,{title:y("depositsOnNetwork",{network:(0,ae.getNetworkNiceNameByChainId)(x)}),open:d,label:"Manage deposits for ".concat(t.id()),onDismiss:g,chainId:x,internalLinks:(0,a.jsx)(st.default,{href:{pathname:"/deposit",query:s.query},children:(0,a.jsx)(p._8,{size:p.rZ.md,theme:p.kY.teal,className:"w-full",children:y("deposit")})}),views:[{id:"withdraw",view:function(){return(0,a.jsx)(sn,{prizePool:t,balances:n,setWithdrawTxId:b,onDismiss:g,refetchBalances:i})},label:y("withdraw"),theme:p.kY.tealOutline}],tx:h,token:n.ticket,balance:n.ticket,balanceUsd:n.ticket,t:y,contractLinks:v,isWalletOnProperNetwork:w,isWalletMetaMask:T})]})},yn=function(e){return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.dF,{chainId:e.chainId,className:"mr-2 my-auto"}),(0,a.jsx)("span",{className:"font-bold xs:text-lg",children:(0,ae.getNetworkNiceNameByChainId)(e.chainId)})]})},mn=function(e){var t=e.balances,n=e.prizePool,r=t.ticket;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.T1,{chainId:n.chainId,address:r.address,className:"mr-2 my-auto"}),(0,a.jsxs)("span",{className:l()("font-bold text-lg mr-3",{"opacity-50":!r.hasBalance}),children:["$",r.amountPretty]}),(0,a.jsx)(f.Z,{icon:"chevron-right",className:"my-auto h-8 w-8 opacity-50"})]})},fn=function(){return(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"}),(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"})]})},bn="withdrawal-quantity",hn=function(e){var t=e.form,n=e.currentStep,r=e.prizePool,i=e.withdrawTx,s=e.amountToWithdraw,o=e.usersBalance,d=e.exitFee,u=e.isExitFeeFetched,l=e.isExitFeeFetching,p=e.tokenAddress,y=e.sendWithdrawTx,m=e.setWithdrawTxId,f=e.setCurrentStep,b=e.setAmountToWithdraw,h=e.refetchBalances,x=e.onDismiss,v=(0,c.$)().t,T=r.chainId,w=Object.values(r.tokens).find((function(e){return e.address===p})),g=r.tokens.underlyingToken;return n===kn.viewTxReceipt?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:r.chainId,title:v("withdrawalSubmitted","Withdrawal submitted")}),(0,a.jsx)(jt.v,{className:"mt-8",chainId:r.chainId,tx:i,closeModal:x,hideCloseButton:!0})]}):n===kn.review?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:T,title:v("withdrawTicker",{ticker:r.tokens.underlyingToken.symbol})}),(0,a.jsx)(vn,{prizePool:r,chainId:T,amountToWithdraw:s,token:g,ticket:w,tx:i,exitFee:d,isExitFeeFetched:u,isExitFeeFetching:l,sendWithdrawTx:y,setCurrentStep:f,setTxId:m,refetchBalances:h})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:T,title:v("withdrawTicker",{ticker:r.tokens.underlyingToken.symbol})}),(0,a.jsx)(xn,{chainId:T,form:t,token:g,ticket:w,balance:o,setCurrentStep:f,setAmountToWithdraw:b})]})},xn=function(e){var t=e.chainId,n=e.form,r=e.token,i=e.ticket,s=e.balance,o=e.setCurrentStep,d=e.setAmountToWithdraw,u=(0,c.$)().t,l=n.handleSubmit,y=n.formState,m=y.isValid,f=y.isDirty,b=y.errors,h=(0,n.watch)(bn);return(0,a.jsxs)("form",{onSubmit:l((function(e){var t=e["withdrawal-quantity"];d((0,tt.$)(t,r.decimals)),o(kn.review)})),children:[(0,a.jsx)(gn,{chainId:t,form:n,token:r,ticket:i,balance:s}),(0,a.jsx)(Nn,{}),(0,a.jsx)(jn,{chainId:t,amount:h,token:r}),(0,a.jsx)(p._C,{errors:f?b:null,className:"opacity-75"}),(0,a.jsx)(On,{className:"mt-2"}),(0,a.jsx)(p.LE,{disabled:!m&&f,type:"submit",className:"w-full mt-8",children:u("reviewWithdrawal")})]})},vn=function(e){var t=e.prizePool,n=e.amountToWithdraw,i=e.token,s=e.ticket,o=e.tx,d=e.sendWithdrawTx,u=e.exitFee,l=e.isExitFeeFetched,y=e.isExitFeeFetching,m=(0,c.$)().t,f=(0,r.useState)(!1),b=f[0],h=f[1],x=((null===o||void 0===o?void 0:o.inWallet)&&!(null!==o&&void 0!==o&&o.error)&&o.cancelled,!(null===u||void 0===u||!u.isZero())||b);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(Lt.s,{title:m("withdrawTicker",{ticker:s.symbol}),chainId:t.chainId,from:s,to:i,amount:n}),(0,a.jsx)(Tn,{exitFee:u,token:i,exitFeeApproved:b,setExitFeeApproved:h}),(0,a.jsx)(ct.G,{chainId:t.chainId,toolTipId:"withdrawal-tx",className:"w-full",theme:p.kY.orangeOutline,onClick:d,disabled:!l||y||!x,children:(0,a.jsx)("span",{children:m("confirmWithdrawal")})})]})},Tn=function(e){var t=e.token,n=e.exitFee,r=e.exitFeeApproved,i=e.setExitFeeApproved,s=(0,c.$)().t;return!n||n.isZero()?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-pt-red bg-opacity-50 dark:bg-opacity-80 p-4 rounded w-full mb-4",children:(0,a.jsxs)("div",{className:"flex justify-center",children:[(0,a.jsx)(f.Z,{icon:"alert-triangle",className:"w-4 h-4 mr-2 my-auto"}),(0,a.jsxs)("span",{children:[s("withdrawalFeeOfAmount",{amount:"".concat((0,ae.numberWithCommas)(n,{decimals:t.decimals})," ").concat(t.symbol)})," ",(0,a.jsx)("a",{href:"https://docs.pooltogether.com/protocol/prize-pool/fairness",target:"_blank",children:s("learnMore")}),"."]})]})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(p.ct,{large:!0,id:"exit-fee-agreement-toggle",name:"exit-fee-agreement-toggle",label:"I acknowledge that there is an exit fee",checked:r,handleClick:function(){i(!r)}})})]})},wn=function(e){var t=e.symbol,n=(0,c.$)().t;return(0,a.jsx)("div",{className:"font-inter font-semibold uppercase text-accent-3 opacity-60",children:n("withdrawTicker",{ticker:t})})},gn=function(e){var t=e.disabled,n=e.chainId,r=e.form,i=e.token,s=e.ticket,o=e.balance,d=r.register,u=r.setValue,l=s.symbol,p={isValid:function(e){if(!e)return!1;if(isNaN(e))return!1;var t=i.decimals;if((0,ae.getMaxPrecision)(e)>Number(t))return!1;var n=(0,Ce.parseUnits)(e,t);return!n.isZero()&&(!n.lt(b._Y)&&(!(!o||n.gt(o.amountUnformatted))||y("insufficientFunds")))}},y=(0,c.$)().t;return(0,a.jsx)(Zt,{unsignedNumber:!0,readOnly:t,Input:Ft,symbolAndIcon:(0,a.jsx)(Bt._,{chainId:n,token:s}),validate:p,containerBgClassName:"bg-transparent",containerRoundedClassName:"rounded-lg",bgClassName:"bg-body",placeholder:"0.0",id:bn,name:bn,autoComplete:"off",register:d,required:y("ticketQuantityRequired"),label:(0,a.jsx)(wn,{symbol:s.symbol}),rightLabel:(0,a.jsx)(Wt,{valueKey:bn,setValue:u,tokenSymbol:l,amount:o.amount,isAmountZero:!o||o.amountUnformatted.isZero()})})};gn.defaultProps={disabled:!1};var jn=function(e){var t=e.chainId,n=e.amount,r=e.token;return(0,a.jsx)(Zt,{readOnly:!0,disabled:!0,symbolAndIcon:(0,a.jsx)(Bt._,{chainId:t,token:r}),Input:Ft,roundedClassName:"rounded-lg",containerRoundedClassName:"rounded-lg",placeholder:"0.0",id:"result",name:"result",register:function(){},label:null,value:n})};jn.defaultProps={borderClassName:"border-body"};var kn,On=function(e){var t=(0,c.$)().t;return(0,a.jsx)("div",{className:l()("w-full py-1 px-4 text-xxs text-center rounded-lg bg-orange-darkened text-orange",e.className),children:t("withdrawingWillReduceYourOddsToWin","Withdrawing funds will decrease your chances to win prizes!")})},Nn=function(){return(0,a.jsx)($t.p,{className:"my-2 text-inverse"})},Pn=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AwardCaptured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Awarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AwardedExternalERC20",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"AwardedExternalERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract ControlledTokenInterface",name:"token",type:"address"}],name:"ControlledTokenAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CreditBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CreditMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint128",name:"creditLimitMantissa",type:"uint128"},{indexed:!1,internalType:"uint128",name:"creditRateMantissa",type:"uint128"}],name:"CreditPlanSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"reserveRegistry",type:"address"},{indexed:!1,internalType:"uint256",name:"maxExitFeeMantissa",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTimelockDuration",type:"uint256"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"exitFee",type:"uint256"}],name:"InstantWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidityCap",type:"uint256"}],name:"LiquidityCapSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prizeStrategy",type:"address"}],name:"PrizeStrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReserveFeeCaptured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReserveWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TimelockDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unlockTimestamp",type:"uint256"}],name:"TimelockedWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemed",type:"uint256"}],name:"TimelockedWithdrawalSwept",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TransferredExternalERC20",type:"event"},{inputs:[],name:"accountedBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"award",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"awardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"awardExternalERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"awardExternalERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"controlledToken",type:"address"}],name:"balanceOfCredit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"beforeTokenTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateEarlyExitFee",outputs:[{internalType:"uint256",name:"exitFee",type:"uint256"},{internalType:"uint256",name:"burnedCredit",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateReserveFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateTimelockDuration",outputs:[{internalType:"uint256",name:"durationSeconds",type:"uint256"},{internalType:"uint256",name:"burnedCredit",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_externalToken",type:"address"}],name:"canAwardExternal",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"captureAwardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICompLike",name:"compLike",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"compLikeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"controlledToken",type:"address"}],name:"creditPlanOf",outputs:[{internalType:"uint128",name:"creditLimitMantissa",type:"uint128"},{internalType:"uint128",name:"creditRateMantissa",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"address",name:"referrer",type:"address"}],name:"depositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_controlledToken",type:"address"},{internalType:"uint256",name:"_principal",type:"uint256"},{internalType:"uint256",name:"_interest",type:"uint256"}],name:"estimateCreditAccrualTime",outputs:[{internalType:"uint256",name:"durationSeconds",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract RegistryInterface",name:"_reserveRegistry",type:"address"},{internalType:"contract ControlledTokenInterface[]",name:"_controlledTokens",type:"address[]"},{internalType:"uint256",name:"_maxExitFeeMantissa",type:"uint256"},{internalType:"uint256",name:"_maxTimelockDuration",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxExitFeeMantissa",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimelockDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeStrategy",outputs:[{internalType:"contract TokenListenerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reserveRegistry",outputs:[{internalType:"contract RegistryInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"reserveTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_controlledToken",type:"address"},{internalType:"uint128",name:"_creditRateMantissa",type:"uint128"},{internalType:"uint128",name:"_creditLimitMantissa",type:"uint128"}],name:"setCreditPlanOf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidityCap",type:"uint256"}],name:"setLiquidityCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract TokenListenerInterface",name:"_prizeStrategy",type:"address"}],name:"setPrizeStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"users",type:"address[]"}],name:"sweepTimelockBalances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"timelockBalanceAvailableAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"timelockBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"timelockDepositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"timelockTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferExternalERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"maximumExitFee",type:"uint256"}],name:"withdrawInstantlyFrom",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"withdrawReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"withdrawWithTimelockFrom",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];!function(e){e[e.input=0]="input",e[e.review=1]="review",e[e.viewTxReceipt=2]="viewTxReceipt"}(kn||(kn={}));var In=function(e){var t=e.prizePool,n=e.refetchBalances,i=e.setWithdrawTxId,s=e.onDismiss,o=e.balance,d=e.address,u=e.symbol,l=t.chainId,y=(0,r.useState)(0),m=y[0],f=y[1],b=(0,le.useTransaction)(m),h=(0,r.useState)(),v=h[0],T=h[1],w=(0,r.useState)(kn.input),g=w[0],j=w[1],k=(0,ft.p)(),P=(0,Tt.C)(t.chainId),I=(0,vt.cI)({mode:"onChange",reValidateMode:"onChange"}),C=(0,x.b)(),M=t.prizePool.address,D=(0,le.useV3ExitFee)(l,M,d,C,null===v||void 0===v?void 0:v.amountUnformatted),F=D.data,S=D.isFetched,E=D.isFetching,z=function(){var e=(0,N.Z)(O().mark((function e(a){var r,s,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=[C,null===v||void 0===v?void 0:v.amountUnformatted,d,F],s=(0,ae.numberWithCommas)(v.amountUnformatted.sub(F),{decimals:t.tokens.underlyingToken.decimals}),e.next=5,k({name:"".concat(A("withdraw")," ").concat(s," ").concat(u),method:"withdrawInstantlyFrom",contractAddress:M,contractAbi:Pn,params:r,callbacks:{onSent:function(){return j(kn.viewTxReceipt)},refetch:function(){n()}}});case 5:o=e.sent,i(o),f(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=(0,c.$)().t;return P?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(hn,{tokenAddress:d,form:I,currentStep:g,setCurrentStep:j,prizePool:t,usersBalance:o,refetchBalances:n,amountToWithdraw:v,setAmountToWithdraw:T,withdrawTx:b,setWithdrawTxId:i,sendWithdrawTx:z,onDismiss:s,exitFee:F,isExitFeeFetched:S,isExitFeeFetching:E})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.r6,{chainId:t.chainId,title:A("wrongNetwork","Wrong network")}),(0,a.jsx)(wt.F,{chainId:t.chainId,className:"mt-8"})]})};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn=function(){var e=(0,c.$)().t,t=(0,x.b)(),n=ge(t),r=n.data,i=n.isFetched,s=n.refetch,o=Ke(t),d=o.data,u=o.isFetched;if(!i||!u)return null;var l=r.totalValueUsdScaled.add(d.totalValueUsdScaled),p=(0,g.T)(l,"2");return p.amountUnformatted.isZero()?null:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)(xt,{title:"V3 ".concat(e("deposits")),secondary:"$".concat(p.amountPretty)}),(0,a.jsx)(Fn,{})]}),(0,a.jsxs)("div",{className:"bg-pt-purple-lightest dark:bg-pt-purple rounded-lg p-4 space-y-4",children:[(0,a.jsx)(Sn,{data:r,isFetched:i,refetch:s}),(0,a.jsx)(En,{data:d,isFetched:u})]})]})},Fn=function(){var e=(0,c.$)().t;return(0,a.jsxs)("a",{className:"opacity-50 hover:opacity-100 flex items-center transition-opacity",href:"https://v3.pooltogether.com",children:[e("v3App","V3 App"),(0,a.jsx)(f.Z,{icon:"external-link",className:"w-4 h-4 ml-1"})]})},Sn=function(e){var t=e.data,n=e.isFetched,r=e.refetch;if(!n)return(0,a.jsx)(Un,{});var i=t.balances.filter((function(e){return"0x396b4489da692788e327e2e4b2b0459a5ef26791"!==e.prizePool.prizePool.address&&"0x3af7072d29adde20fc7e173a7cb9e45307d2fb0a"!==e.prizePool.prizePool.address}));return 0===i.length?null:(0,a.jsx)("ul",{className:"space-y-4",children:i.map((function(e){return(0,a.jsx)(zn,Mn({refetchBalances:r},e),"deposit-balance-"+e.address+e.prizePool.chainId)}))})},En=function(e){var t=e.data;return e.isFetched?0===t.balances.length?null:(0,a.jsx)("ul",{className:"space-y-4",children:t.balances.map((function(e){return(0,a.jsx)(An,Mn({},e),"pod-deposit-balance-"+e.address+e.pod.prizePool.config.chainId)}))}):(0,a.jsx)(Un,{})},zn=function(e){var t=e.prizePool,n=e.balance,i=e.balanceUsd,s=e.refetchBalances,o=(0,r.useState)(!1),d=o[0],u=o[1],l=(0,c.$)().t,y=t.chainId,m=t.tokens.underlyingToken,f=t.tokens.ticket,b=(0,on.p)(),h=(0,Tt.C)(y),x=(0,r.useState)(0),v=x[0],T=x[1],w=(0,le.useTransaction)(v),g=[{i18nKey:"prizePool",chainId:y,address:t.prizePool.address},{i18nKey:"prizeStrategy",chainId:y,address:t.prizeStrategy.address},{i18nKey:"depositToken",chainId:y,address:t.tokens.underlyingToken.address},{i18nKey:"ticketToken",chainId:y,address:t.tokens.ticket.address}],j=function(){return u(!1)};return(0,a.jsxs)("li",{className:"transition bg-white bg-opacity-70 hover:bg-opacity-100 dark:bg-actually-black dark:bg-opacity-10 dark:hover:bg-opacity-20 rounded-lg ",children:[(0,a.jsxs)("button",{className:"p-4 w-full flex justify-between items-center",onClick:function(){u(!0)},children:[(0,a.jsx)(Bn,{chainId:y,symbol:m.symbol,address:m.address}),(0,a.jsx)(Rn,{balanceUsd:i,chainId:y,ticket:f})]}),(0,a.jsx)(p.yT,{banner:(0,a.jsx)(Zn,{}),title:"V3 ".concat(l("prizePoolTicker",{ticker:m.symbol})),open:d,onDismiss:j,chainId:y,externalLinks:[{id:t.prizePool.address,label:l("viewOnV3App","View on V3 app"),href:"https://v3.pooltogether.com/account"}],views:[{id:"withdraw",view:function(){return(0,a.jsx)(In,Mn(Mn({},e),{},{prizePool:t,onDismiss:j,setWithdrawTxId:T,refetchBalances:s}))},label:l("withdraw"),theme:p.kY.tealOutline}],tx:w,token:f,balance:n,balanceUsd:i,t:l,contractLinks:g,isWalletOnProperNetwork:h,isWalletMetaMask:b})]})},An=function(e){var t=e.pod,n=e.balance,i=e.balanceUsd,s=(0,r.useState)(!1),o=s[0],d=s[1],u=(0,c.$)().t,l=t.prizePool,y=l.config.chainId,m=l.tokens.underlyingToken,f=t.tokens.podStablecoin,b=(0,on.p)(),h=(0,Tt.C)(y),x=[{i18nKey:"prizePool",chainId:y,address:l.prizePool.address},{i18nKey:"prizeStrategy",chainId:y,address:l.prizeStrategy.address},{i18nKey:"depositToken",chainId:y,address:l.tokens.underlyingToken.address},{i18nKey:"ticketToken",chainId:y,address:l.tokens.ticket.address},{i18nKey:"podTicket",chainId:y,address:t.tokens.podStablecoin.address}];return(0,a.jsxs)("li",{className:"transition bg-white bg-opacity-70 hover:bg-opacity-100 dark:bg-actually-black dark:bg-opacity-10 dark:hover:bg-opacity-20 rounded-lg ",children:[(0,a.jsxs)("button",{className:"p-4 w-full flex justify-between items-center",onClick:function(){d(!0)},children:[(0,a.jsx)(Bn,{isPod:!0,chainId:y,symbol:m.symbol,address:m.address}),(0,a.jsx)(Rn,{balanceUsd:i,chainId:y,ticket:f})]}),(0,a.jsx)(p.yT,{banner:(0,a.jsx)(Zn,{}),title:"V3 ".concat(u("podTicker",{ticker:m.symbol})),open:o,onDismiss:function(){return d(!1)},chainId:y,externalLinks:[{id:l.prizePool.address,label:u("withdraw"),href:"https://v3.pooltogether.com/account"}],tx:null,token:f,balance:n,balanceUsd:i,t:u,contractLinks:x,isWalletOnProperNetwork:h,isWalletMetaMask:b})]})},Zn=function(){var e=(0,c.$)().t;return(0,a.jsx)("div",{className:" bg-gradient-yellow bg-opacity-50 dark:bg-opacity-100 dark:text-actually-black p-4 rounded w-full mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-sm",children:[(0,a.jsx)(f.Z,{icon:"bell",className:"w-4 h-4 mr-2"}),(0,a.jsx)("span",{children:e("v3PrizePoolsAreBeingDeprecated")}),(0,a.jsxs)("a",{href:"https://docs.pooltogether.com/faq/v3-to-v4-differences",className:"underline text-sm",target:"_blank",children:[e("readMoreHere","read more here"),(0,a.jsx)(f.Z,{icon:"external-link",className:"inline-block w-4 h-4 ml-1"})]})]})})},Bn=function(e){return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"flex mr-4 my-auto relative",children:[(0,a.jsx)(p.dF,{chainId:e.chainId,className:"absolute",sizeClassName:"w-4 h-4 -right-2 -top-2"}),(0,a.jsx)(p.T1,{chainId:e.chainId,address:e.address})]}),(0,a.jsx)("span",{className:"font-bold xs:text-lg",children:e.isPod?"".concat(e.symbol," Pod"):e.symbol})]})},Rn=function(e){var t=e.balanceUsd,n=e.chainId,r=e.ticket;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.T1,{chainId:n,address:r.address,className:"mr-2 my-auto"}),(0,a.jsxs)("span",{className:l()("font-bold text-lg mr-3",{"opacity-50":t.amountUnformatted.isZero()}),children:["$",t.amountPretty]}),(0,a.jsx)(f.Z,{icon:"chevron-right",className:"my-auto h-8 w-8 opacity-50"})]})},Un=function(){return(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"}),(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"})]})},Wn=n(95129),$n=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"newTokens",type:"uint256"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"dripRatePerSecond",type:"uint256"}],name:"DripRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newTokens",type:"uint256"}],name:"Dripped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20Upgradeable",name:"asset",type:"address"},{indexed:!0,internalType:"contract IERC20Upgradeable",name:"measure",type:"address"},{indexed:!1,internalType:"uint256",name:"dripRatePerSecond",type:"uint256"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"asset",outputs:[{internalType:"contract IERC20Upgradeable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"",type:"address"}],name:"beforeTokenMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"token",type:"address"}],name:"beforeTokenTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"claim",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"drip",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"dripRatePerSecond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exchangeRateMantissa",outputs:[{internalType:"uint112",name:"",type:"uint112"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IERC20Upgradeable",name:"_asset",type:"address"},{internalType:"contract IERC20Upgradeable",name:"_measure",type:"address"},{internalType:"uint256",name:"_dripRatePerSecond",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastDripTimestamp",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"measure",outputs:[{internalType:"contract IERC20Upgradeable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_dripRatePerSecond",type:"uint256"}],name:"setDripRatePerSecond",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnclaimed",outputs:[{internalType:"uint112",name:"",type:"uint112"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userStates",outputs:[{internalType:"uint128",name:"lastExchangeRateMantissa",type:"uint128"},{internalType:"uint128",name:"balance",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],_n=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AwardCaptured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Awarded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"AwardedExternalERC20",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"winner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"AwardedExternalERC721",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract ControlledTokenInterface",name:"token",type:"address"}],name:"ControlledTokenAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CreditBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CreditMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint128",name:"creditLimitMantissa",type:"uint128"},{indexed:!1,internalType:"uint128",name:"creditRateMantissa",type:"uint128"}],name:"CreditPlanSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"reserveRegistry",type:"address"},{indexed:!1,internalType:"uint256",name:"maxExitFeeMantissa",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTimelockDuration",type:"uint256"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemed",type:"uint256"},{indexed:!1,internalType:"uint256",name:"exitFee",type:"uint256"}],name:"InstantWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidityCap",type:"uint256"}],name:"LiquidityCapSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prizeStrategy",type:"address"}],name:"PrizeStrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReserveFeeCaptured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ReserveWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TimelockDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unlockTimestamp",type:"uint256"}],name:"TimelockedWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemed",type:"uint256"}],name:"TimelockedWithdrawalSwept",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TransferredExternalERC20",type:"event"},{inputs:[],name:"accountedBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"award",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"awardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"awardExternalERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"awardExternalERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"balance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"controlledToken",type:"address"}],name:"balanceOfCredit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"beforeTokenTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateEarlyExitFee",outputs:[{internalType:"uint256",name:"exitFee",type:"uint256"},{internalType:"uint256",name:"burnedCredit",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateReserveFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"calculateTimelockDuration",outputs:[{internalType:"uint256",name:"durationSeconds",type:"uint256"},{internalType:"uint256",name:"burnedCredit",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_externalToken",type:"address"}],name:"canAwardExternal",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"captureAwardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ICompLike",name:"compLike",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"compLikeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"controlledToken",type:"address"}],name:"creditPlanOf",outputs:[{internalType:"uint128",name:"creditLimitMantissa",type:"uint128"},{internalType:"uint128",name:"creditRateMantissa",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"address",name:"referrer",type:"address"}],name:"depositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_controlledToken",type:"address"},{internalType:"uint256",name:"_principal",type:"uint256"},{internalType:"uint256",name:"_interest",type:"uint256"}],name:"estimateCreditAccrualTime",outputs:[{internalType:"uint256",name:"durationSeconds",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract RegistryInterface",name:"_reserveRegistry",type:"address"},{internalType:"contract ControlledTokenInterface[]",name:"_controlledTokens",type:"address[]"},{internalType:"uint256",name:"_maxExitFeeMantissa",type:"uint256"},{internalType:"uint256",name:"_maxTimelockDuration",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxExitFeeMantissa",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimelockDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"prizeStrategy",outputs:[{internalType:"contract TokenListenerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reserveRegistry",outputs:[{internalType:"contract RegistryInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"reserveTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_controlledToken",type:"address"},{internalType:"uint128",name:"_creditRateMantissa",type:"uint128"},{internalType:"uint128",name:"_creditLimitMantissa",type:"uint128"}],name:"setCreditPlanOf",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidityCap",type:"uint256"}],name:"setLiquidityCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract TokenListenerInterface",name:"_prizeStrategy",type:"address"}],name:"setPrizeStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"users",type:"address[]"}],name:"sweepTimelockBalances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"timelockBalanceAvailableAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"timelockBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"timelockDepositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"timelockTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"externalToken",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferExternalERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"},{internalType:"uint256",name:"maximumExitFee",type:"uint256"}],name:"withdrawInstantlyFrom",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"withdrawReserve",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"controlledToken",type:"address"}],name:"withdrawWithTimelockFrom",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Vn=n(41499),Ln=function(e){var t=e.t;return(0,a.jsx)("span",{className:"border-b border-dotted border-white",children:(0,a.jsx)(p.u,{id:"tooltip-vapr",tip:t("vAPRDescription","Variable APR means that the Annual Percentage Rate can change over time."),children:t("vAPR","vAPR")})})};function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hn=function(e){return(0,a.jsxs)("svg",qn(qn({},e),{},{width:"18",height:"13",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"18 13 0 0",children:[(0,a.jsx)("mask",{id:"a",fill:"#fff",children:(0,a.jsx)("path",{d:"M14.073 5.254a1.343 1.343 0 1 0 0 2.686 1.343 1.343 0 0 0 0-2.686Zm0 1.902a.558.558 0 1 1 0-1.117.558.558 0 0 1 0 1.117Z"})}),(0,a.jsx)("path",{d:"M14.073 5.254a1.343 1.343 0 1 0 0 2.686 1.343 1.343 0 0 0 0-2.686Zm0 1.902a.558.558 0 1 1 0-1.117.558.558 0 0 1 0 1.117Z",fill:"#35F0D0"}),(0,a.jsx)("path",{d:"M14.073 5.254v-1 1Zm1.343 1.343h1v-.001h-1Zm-.784 0h1-1Zm-.56-2.343c-.462 0-.915.138-1.3.395l1.11 1.663a.343.343 0 0 1 .191-.058v-2Zm-1.3.395a2.342 2.342 0 0 0-.863 1.052l1.848.765a.343.343 0 0 1 .126-.154L12.772 4.65Zm-.863 1.052c-.177.428-.224.899-.133 1.353l1.961-.39a.342.342 0 0 1 .02-.198L11.909 5.7Zm-.133 1.353c.09.455.313.872.641 1.2l1.414-1.415a.342.342 0 0 1-.094-.175l-1.961.39Zm.641 1.2c.328.327.745.55 1.2.64l.39-1.961a.342.342 0 0 1-.176-.094l-1.414 1.415Zm1.2.64c.454.09.925.044 1.353-.133l-.766-1.848a.343.343 0 0 1-.197.02l-.39 1.962Zm1.353-.133a2.342 2.342 0 0 0 1.051-.863l-1.663-1.11a.342.342 0 0 1-.154.125l.766 1.848Zm1.051-.863c.258-.385.395-.838.395-1.301h-2c0 .068-.02.134-.058.19l1.663 1.111Zm.395-1.302c0-.621-.248-1.216-.687-1.655l-1.414 1.414c.065.064.1.152.1.243l2-.002Zm-.687-1.655a2.344 2.344 0 0 0-1.655-.687l-.002 2c.091 0 .179.037.243.101l1.414-1.414Zm-1.656 1.215c.088 0 .173.026.246.074l-1.112 1.663c.256.171.557.262.866.263v-2Zm.246.074c.072.049.129.117.162.198l-1.848.765c.118.285.318.528.574.7l1.112-1.663Zm.162.198a.44.44 0 0 1 .025.255l-1.961-.39c-.06.302-.03.615.088.9l1.848-.765Zm.025.255a.44.44 0 0 1-.12.226L12.97 5.495a1.559 1.559 0 0 0-.426.798l1.961.39Zm-.12.226a.441.441 0 0 1-.227.12l-.39-1.96a1.56 1.56 0 0 0-.798.426l1.414 1.414Zm-.227.12a.442.442 0 0 1-.255-.024l.765-1.848a1.559 1.559 0 0 0-.9-.089l.39 1.962Zm-.255-.024a.441.441 0 0 1-.198-.163l1.663-1.111a1.558 1.558 0 0 0-.7-.574l-.765 1.848Zm-.198-.163a.442.442 0 0 1-.074-.245h2c0-.309-.092-.61-.263-.866l-1.663 1.111Zm-.074-.246c0-.117.046-.229.129-.311l1.414 1.414a1.56 1.56 0 0 0 .457-1.101l-2-.002Zm.129-.311a.44.44 0 0 1 .311-.13l.002 2a1.56 1.56 0 0 0 1.101-.456l-1.414-1.414Z",fill:"#35F0D0",mask:"url(#a)"}),(0,a.jsx)("path",{d:"M17 3.492a.385.385 0 0 0-.043-.17 2.771 2.771 0 0 0-1.705-2.102l-.616-.197H8.88c-.068-.052-1.337 0-1.422 0H3.766A2.77 2.77 0 0 0 1 3.79v5.615a2.77 2.77 0 0 0 2.766 2.767h10.468A2.77 2.77 0 0 0 17 9.404V3.79c0-.08-.005-.16-.012-.238.006-.02.01-.04.012-.06ZM3.766 1.807h10.468A1.98 1.98 0 0 1 16.086 3.1H1.914a1.98 1.98 0 0 1 1.852-1.293Zm10.468 9.58H3.766a1.984 1.984 0 0 1-1.982-1.983v-5.52h14.432v5.52a1.985 1.985 0 0 1-1.982 1.983Z",fill:"#35F0D0"}),(0,a.jsx)("path",{d:"M10.806 1.023h3.83l.616.197a2.772 2.772 0 0 1 1.705 2.102c.027.053.042.111.043.17a.378.378 0 0 1-.012.06c.007.079.012.157.012.237v5.615a2.77 2.77 0 0 1-2.766 2.767H3.766A2.77 2.77 0 0 1 1 9.404V3.79a2.77 2.77 0 0 1 2.766-2.767h3.692c.085 0 1.354-.052 1.422 0h1.926Zm0 0h3.21m-4.492 0H5.391m-1.625.784h10.468A1.98 1.98 0 0 1 16.086 3.1H1.914a1.98 1.98 0 0 1 1.852-1.293Zm10.468 9.58H3.766a1.984 1.984 0 0 1-1.982-1.983v-5.52h14.432v5.52a1.985 1.985 0 0 1-1.982 1.983Z",stroke:"#35F0D0",strokeWidth:.3})]}))},Yn=n(19665);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn=function(e){var t=e.className,n=e.widthClassName;return(0,a.jsxs)("div",{className:l()(t,n,"flex flex-col","font-inter","text-xl"),children:[(0,a.jsx)(Jn,Gn({},e)),(0,a.jsx)("div",{className:l()("p-0.5 bg-tertiary rounded-lg overflow-hidden","transition-all hover:bg-gradient-cyan focus-within:bg-pt-gradient","cursor-pointer"),children:(0,a.jsxs)("div",{className:"bg-tertiary w-full rounded-lg flex",children:[(0,a.jsx)(ea,Gn({},e)),(0,a.jsx)(ta,Gn({},e))]})})]})};Xn.defaultProps={widthClassName:"w-full",depositTokenClassName:"text-xl"};var Jn=function(e){var t=e.form,n=e.tokenBalance,i=e.inputKey,s=e.tokenBalanceIsFetched,o=(0,c.$)().t,d=(0,x.b)(),u=t.trigger,y=t.setValue;return(0,r.useEffect)((function(){u(i)}),[d,n]),(0,a.jsxs)("div",{className:"flex justify-between font-inter text-xs uppercase font-semibold text-pt-purple-dark text-opacity-60 dark:text-pt-purple-lighter mb-1",children:[(0,a.jsx)("span",{className:l()(""),children:o("amount")}),d&&(0,a.jsxs)("button",{id:"_setMaxDepositAmount",type:"button",className:"font-bold inline-flex items-center ",disabled:!n,onClick:function(e){e.preventDefault(),y(i,n.amount,{shouldValidate:!0})},children:[(0,a.jsx)(Hn,{className:"mr-2"}),s?(0,a.jsx)("span",{className:"mr-1",children:(null===n||void 0===n?void 0:n.amountPretty)||0}):(0,a.jsx)(p.kW,{sizeClassName:"w-3 h-3",className:"mr-2 opacity-50"}),(0,a.jsx)("span",{children:null===n||void 0===n?void 0:n.symbol})]})]})},ea=function(e){var t=e.chainId,n=e.tokenBalance,r=e.depositTokenClassName;return n?(0,a.jsxs)("div",{className:l()("flex items-center","py-4 pl-8 pr-4","placeholder-white placeholder-opacity-50",r),children:[(0,a.jsx)(p.T1,{sizeClassName:"w-6 h-6",className:"mr-2",chainId:t,address:n.address}),(0,a.jsx)("span",{className:"font-bold",children:n.symbol})]}):null},ta=function(e){var t=e.form,n=e.inputKey,r=e.ticketBalance,i=e.tokenBalance,s=(0,c.$)().t,o=t.register,d=na(i,r),u={value:/^\d*\.?\d*$/,message:s("pleaseEnterAPositiveNumber")};return(0,a.jsx)("input",Gn({className:l()("bg-transparent w-full outline-none focus:outline-none active:outline-none text-right py-4 pr-8 pl-4 font-semibold"),placeholder:"0.0"},o(n,{required:!0,pattern:u,validate:d})))},na=function(e,t){var n=(0,c.$)().t,a=(0,x.b)(),r=null===e||void 0===e?void 0:e.decimals,i=(0,Yn.b)(e);return{isValid:function(s){if(isNaN(Number(s)))return!1;if(!i)return!1;var o=(0,ae.safeParseUnits)(s,r);if(a){if(!e)return!1;if(!t)return!1;if(o&&e.amountUnformatted.lt(o))return n("insufficientFundsGetTokensBelow","Insufficient funds. Get or swap tokens below.")}return!((0,ae.getMaxPrecision)(s)>Number(r))&&(!o||!o.isZero())}}},aa=n(58273),ra=n(40530),ia=n(50678);function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var da,ua="amountToDeposit",la=function(){var e=(0,c.$)().t;return(0,a.jsxs)("div",{id:"staking",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(xt,{title:e("poolToken","POOL Token")})}),(0,a.jsx)(ca,{}),(0,a.jsx)(ya,{})]})},ca=function(){var e=(0,c.$)().t;return(0,a.jsxs)("div",{className:"relative bg-pt-purple-lightest dark:bg-opacity-40 dark:bg-pt-purple rounded-lg px-4 py-4 mb-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between font-semibold text-base",children:(0,a.jsxs)("div",{className:"relative",style:{top:-2},children:[(0,a.jsx)(p.T1,{chainId:ae.NETWORK.mainnet,address:Vn.a1,className:"mr-2"})," ",e("yourBalances","Your Balances")]})}),(0,a.jsx)("ul",{className:"space-y-4 mt-4",children:[ae.NETWORK.mainnet,ae.NETWORK.polygon].map((function(e){return(0,a.jsxs)("li",{className:"font-semibold transition bg-white bg-opacity-70 dark:bg-actually-black dark:bg-opacity-10 rounded-lg p-4 w-full flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.dF,{chainId:e,className:"mr-2 my-auto"}),(0,a.jsx)("span",{className:"font-bold xs:text-lg",children:(0,ae.getNetworkNiceNameByChainId)(e)})]}),(0,a.jsxs)("div",{className:"flex items-center xs:text-lg",children:[(0,a.jsx)(p.T1,{chainId:ae.NETWORK.mainnet,address:Vn.a1,className:"mr-2"})," ",(0,a.jsx)(pa,{chainId:e})]})]},"pool-token-balance--network-".concat(e))}))})]})},pa=function(e){var t=e.chainId,n=(0,c.$)().t,r=(0,x.b)(),i=(0,le.usePoolTokenData)(r,r,t),s=i.data,o=i.error,d=i.isFetched;o&&console.error(o);var u=(s||{}).usersBalance,l=u?(0,ae.numberWithCommas)(u):"0.00",y=t===ae.NETWORK.mainnet?Vn.a1:Vn.Qc;return d?(0,a.jsxs)(a.Fragment,{children:[l,0===u&&(0,a.jsx)("div",{className:"flex items-center justify-end font-semibold ml-4",children:(0,a.jsx)(aa.c,{buttonLabel:n("getPool","Get POOL"),chainId:t,outputCurrencyAddress:y})})]}):(0,a.jsx)(p.kW,{sizeClassName:"w-4 h-4"})},ya=function(){return(0,le.useStakingPools)().map((function(e){var t=e.prizePool;return(0,a.jsx)(ba,{chainId:t.chainId,stakingPool:e},"staking-pool-".concat(t.chainId,"-").concat(t.address))}))},ma=function(e){return Boolean(null===e||void 0===e?void 0:e.tokens.underlyingToken.dex)},fa=function(e,t,n){var a,r=t||{},i=r.tokenFaucetData,s=r.underlyingTokenData,o=r.ticketsData,d=(i||{}).dripRatePerDayUnformatted,u=(n||{}).tokens||{},l=u.underlyingToken,c=u.tokenFaucetDripToken,p=l.token1,y=l.token2;if(!ma(n))return{};var m=(0,le.useCoingeckoTokenPrices)(e,[p.address,y.address,c.address]),f=m.data,b=m.isFetched,h=(0,le.useTokenBalances)(e,l.address,[p.address,y.address]),x=h.data,v=h.isFetched,T=(null===f||void 0===f||null===(a=f[c.address.toLowerCase()])||void 0===a?void 0:a.usd)||0,w=xa(x,f,b,v,l,s);return{apr:va(w,s,T,d,o),lpTokenPrice:w,tokenPrices:f}},ba=function(e){var t=e.stakingPool,n=(0,x.b)(),i=(0,c.$)().t,s=(0,r.useState)(!1),o=s[0],d=s[1],u=(0,dt.SU)().setSelectedChainId,l=ge(n),p=l.data,y=l.isFetched,m=(0,le.useStakingPoolChainData)(t),f=m.data,b=m.error,h=m.refetch,v=m.isFetched,T=(0,le.useUserLPChainData)(t,f,n),w=T.data,g=T.error,j=T.refetch,k=T.isFetched;(b||g)&&(console.error(b),console.error(g));var O=y&&k&&v;if(!O)return(0,a.jsx)(Za,{});var N=null===p||void 0===p?void 0:p.balances.find((function(e){return t.tokens.ticket.address===e.prizePool.tokens.ticket.address})),P=null===N||void 0===N?void 0:N.prizePool,I=w.balances,C=I.ticket.hasBalance?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(wa,oa(oa({},e),{},{t:i,balances:I,userLPChainData:w,stakingPoolChainData:f})),(0,a.jsx)(ga,oa(oa({},e),{},{setIsOpen:d,setSelectedChainId:u}))]}):(0,a.jsx)(Ta,oa(oa({},e),{},{stakingPoolChainData:f,setIsOpen:d,setSelectedChainId:u}));return(0,a.jsxs)("div",{className:"relative rounded-lg p-4 text-white mb-4",style:{backgroundImage:ma(t)?"linear-gradient(300deg, #eC2BB8 0%, #EA69D6 100%)":"linear-gradient(300deg, #46279A 0%, #7E46F2 100%)"},children:[(0,a.jsx)("div",{className:"absolute r-4 t-3 w-6 h-6 text-xl",style:{textShadow:"2px 2px 0px rgba(50, 10, 100, 0.3)"},children:ma(t)?"\ud83d\udc8e":"\ud83c\udf21\ufe0f"}),(0,a.jsx)(Na,oa(oa({},e),{},{t:i})),C,(0,a.jsx)(ha,oa(oa({},e),{},{balanceData:N,prizePool:P,isOpen:o,userLPChainData:w,isFetched:O,stakingPoolChainData:f,refetch:function(){console.log("running refetch user lp chain data, staking pool chain data"),h(),j()},setIsOpen:d}))]})},ha=function(e){var t=e.balanceData,n=e.chainId,i=e.stakingPool,s=e.setIsOpen,o=e.isFetched,d=e.isOpen,u=e.prizePool,l=e.stakingPoolChainData,y=e.userLPChainData,m=e.refetch,f=(0,c.$)().t,b=(i||{}).tokens||{},h=b.underlyingToken,x=b.tokenFaucetDripToken,v=(0,Je._g)().provider,T=(0,on.p)(),g=(0,Tt.C)(n),j=(0,r.useState)(0),k=j[0],O=j[1],N=(0,le.useTransaction)(k),P=(0,r.useState)(0),I=P[0],C=P[1],M=(0,le.useTransaction)(I),D=(0,r.useState)(0),F=D[0],S=D[1],E=(0,le.useTransaction)(F),z=(0,r.useState)(0),A=z[0],Z=z[1],B=((0,le.useTransaction)(A),y.balances),R=B.token,U=B.ticket,W=(Ba(y),Ra({provider:v,amount:w.O$.from(0),prizePoolAddress:i.prizePool.address,token:B.token}),fa(n,l,i).lpTokenPrice),$=function(){return s(!1)},_=(0,a.jsx)(Ia,oa(oa({},e),{},{underlyingToken:h,userLPChainData:y,ticketBalance:U,tokenBalance:R,tokenBalanceIsFetched:o,depositTx:N,approveTx:M,refetch:m,closeInitialSheet:function(){return s(!1)},setDepositTxId:O,setApproveTxId:C})),V=(0,a.jsx)(Sa,oa(oa({},e),{},{claimTx:E,userLPChainData:y,tokenFaucetDripToken:x,stakingPoolChainData:l,closeInitialSheet:function(){return s(!1)},setClaimTxId:S,refetch:m})),L=(0,a.jsx)(In,oa(oa({},t),{},{address:null===u||void 0===u?void 0:u.tokens.ticket.address,symbol:null===u||void 0===u?void 0:u.tokens.underlyingToken.symbol,onDismiss:$,setWithdrawTxId:Z,refetchBalances:m})),K=[{id:"deposit",view:function(){return _},label:f("deposit"),theme:p.kY.teal},{id:"claim",view:function(){return V},label:f("rewards"),theme:p.kY.rainbow},{id:"withdraw",view:function(){return L},disabled:U.amountUnformatted.isZero(),label:f("withdraw"),theme:p.kY.tealOutline}],q=[{i18nKey:"prizePool",chainId:n,address:i.prizePool.address},{i18nKey:"depositToken",chainId:n,address:i.tokens.underlyingToken.address},{i18nKey:"ticketToken",chainId:n,address:i.tokens.ticket.address}],H=(0,tt.$)((Number(U.amount)*(null===W||void 0===W?void 0:W.toNumber())).toString(),"18");return(0,a.jsx)(p.yT,oa(oa({},e),{},{t:f,views:K,title:"".concat(f("manage"),": ").concat(h.symbol),contractLinks:q,balance:(0,tt.$)(U.amount,"18"),balanceUsd:H,token:Ma(U),open:d,onDismiss:$,tx:null,className:"space-y-4",isWalletOnProperNetwork:g,isWalletMetaMask:T}))},xa=function(e,t,n,a,r,i){var s,o,d=r.token1,u=r.token2;return n&&a&&i&&i.totalSupply?(0,ae.calculateLPTokenPrice)((0,Ce.formatUnits)(e[d.address].amountUnformatted,e[d.address].decimals),(0,Ce.formatUnits)(e[u.address].amountUnformatted,e[u.address].decimals),(null===(s=t[d.address.toLowerCase()])||void 0===s?void 0:s.usd)||0,(null===(o=t[u.address.toLowerCase()])||void 0===o?void 0:o.usd)||0,i.totalSupply):null},va=function(e,t,n,a,r){if(!e)return null;var i=(0,ae.amountMultByUsd)(a,n),s=(0,Ce.formatUnits)(i,t.decimals),o=(0,ae.toScaledUsdBigNumber)(s),d=(0,ae.amountMultByUsd)(r.totalSupplyUnformatted,e.toNumber()),u=(0,Ce.formatUnits)(d,t.decimals),l=(0,ae.toScaledUsdBigNumber)(u);return(0,ae.calculateAPR)(o,l)},Ta=function(e){var t=e.setSelectedChainId,n=e.chainId,r=e.setIsOpen,i=e.stakingPool,s=e.stakingPoolChainData,o=i.tokens.tokenFaucetDripToken,d=Ea(s,i).apr,u=(0,c.$)().t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm",children:ma(i)?u("lpDepositDescription","Deposit Uniswap V2 POOL-ETH LP tokens to earn extra POOL!"):u("poolPoolDepositDescription","Deposit POOL to earn rewards and vote.")}),(0,a.jsxs)("h6",{className:"mt-3",children:[(0,a.jsx)("span",{className:"relative -mt-2 inline-block mr-1",style:{top:-2},children:(0,a.jsx)(p.T1,{chainId:n,address:o.address,sizeClassName:"w-6 h-6"})})," ",(0,a.jsx)(T.c,{i18nKey:"earnPercentageVAPR",defaults:"Earn {{percentage}}% <tooltip>vAPR</tooltip>",values:{percentage:(0,ae.displayPercentage)(d)},components:{tooltip:(0,a.jsx)(Ln,{t:u})}})]}),(0,a.jsx)("div",{className:"flex items-end justify-end w-full mt-4",children:(0,a.jsxs)("button",{className:"flex items-center transition uppercase font-semibold text-lg opacity-90 hover:opacity-100 rounded-lg bg-pt-purple-darker bg-opacity-20 hover:bg-opacity-10 pl-4",onClick:function(){t(n),r(!0)},children:[u("deposit")," ",(0,a.jsx)(f.Z,{icon:"chevron-right",className:"transition w-6 h-6 opacity-50 hover:opacity-100 my-auto ml-1"})]})})]})},wa=function(e){var t=e.t;return(0,a.jsx)("div",{className:"rounded-lg bg-pt-purple-darker bg-opacity-20 px-8 py-6",children:(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-center justify-between font-semibold text-lg",children:[t("deposited","Deposited")," ",(0,a.jsx)(ja,oa(oa({},e),{},{balances:e.balances}))]}),(0,a.jsxs)("li",{className:"flex items-center justify-between font-semibold text-lg",children:[t("rewards","Rewards")," ",(0,a.jsx)(ka,oa(oa({},e),{},{balances:e.balances}))]}),(0,a.jsxs)("li",{className:"flex items-center justify-between font-semibold text-lg",children:[t("earning","Earning")," ",(0,a.jsx)(Oa,oa(oa({},e),{},{balances:e.balances}))]})]})})},ga=function(e){var t=e.stakingPool,n=e.setIsOpen,r=e.setSelectedChainId,i=t.prizePool,s=(0,c.$)().t;return(0,a.jsx)("div",{className:"flex items-end justify-end w-full mt-4",children:(0,a.jsxs)("button",{className:"flex items-center transition uppercase font-semibold text-lg opacity-90 hover:opacity-100 rounded-lg bg-pt-purple-darker bg-opacity-20 hover:bg-opacity-10 pl-4",onClick:function(){r(i.chainId),n(!0)},children:[s("manage")," ",(0,a.jsx)(f.Z,{icon:"chevron-right",className:"transition w-6 h-6 opacity-50 hover:opacity-100 my-auto ml-1"})]})})},ja=function(e){var t=e.balances,n=e.stakingPool;if(!t)return null;var r=t.ticket;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.T1,{chainId:n.prizePool.chainId,address:r.address,className:"mr-2 my-auto"}),(0,a.jsxs)("span",{className:"font-bold text-lg mr-3",children:[r.amountPretty," ",r.symbol]})]})},ka=function(e){var t=e.balances,n=e.stakingPool,r=e.userLPChainData;if(!t)return null;var i=n.tokens.tokenFaucetDripToken,s=r.userData.claimableBalance;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.T1,{chainId:n.prizePool.chainId,address:i.address,className:"mr-2 my-auto"}),(0,a.jsxs)("span",{className:"font-bold text-lg mr-3",children:[(0,ae.numberWithCommas)(s)," ",i.symbol]})]})},Oa=function(e){var t=e.balances,n=e.stakingPool,r=e.stakingPoolChainData,i=(0,c.$)().t,s=Ea(r,n).apr;if(!t)return null;var o=n.tokens.tokenFaucetDripToken;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p.T1,{chainId:n.prizePool.chainId,address:o.address,className:"mr-2 my-auto"}),(0,a.jsxs)("span",{className:"font-bold text-lg mr-3",children:[(0,ae.displayPercentage)(s),"% ",(0,a.jsx)(Ln,{t:i})]})]})},Na=function(e){var t=e.t,n=e.chainId,r=e.stakingPool,i=r.tokens.underlyingToken,s=i.pair,o=i.symbol,d=r.tokens.tokenFaucetDripToken.address;return(0,a.jsxs)("div",{className:"font-semibold text-xl mb-4",children:[(0,a.jsx)("span",{className:"relative -mt-2 inline-block",style:{top:-2},children:(0,a.jsx)(p.dF,{sizeClassName:"w-6 h-6",chainId:n})}),(0,a.jsx)("span",{className:"relative -ml-2 -mt-1 inline-block",style:{top:-2},children:(0,a.jsx)(p.T1,{chainId:n,address:d,className:"mr-1",sizeClassName:"w-6 h-6"})}),t("stake")," ",s," ",o]})};!function(e){e[e.depositForm=0]="depositForm",e[e.review=1]="review"}(da||(da={}));var Pa,Ia=function(e){var t=e.tokenBalance,n=e.userLPChainData,i=(0,r.useState)(da.depositForm),s=i[0],o=i[1],d=(0,vt.cI)({mode:"onChange",reValidateMode:"onChange"}),u=(0,d.watch)(ua),l=(0,r.useMemo)((function(){return(0,tt.$)(u,null===t||void 0===t?void 0:t.decimals)}),[u,null===t||void 0===t?void 0:t.decimals]),c=Ba(n,l);switch(s){case da.depositForm:return(0,a.jsx)(Ca,oa(oa({},e),{},{form:d,depositAllowance:c,amountToDeposit:l,setReviewDepositView:function(){o(da.review)}}));case da.review:return(0,a.jsx)(Fa,oa(oa({},e),{},{depositAllowance:c,amountToDeposit:l,setDepositFormView:function(){o(da.depositForm)}}))}},Ca=function(e){var t=e.amountToDeposit,n=e.chainId,r=e.form,i=e.depositTx,s=e.tokenBalance,o=e.ticketBalance,d=e.stakingPool,u=e.setReviewDepositView,l=(0,c.$)().t,p=(0,Je._g)().isWalletConnected,y=r.handleSubmit,m=r.formState,f=m.isValid,b=m.isDirty,h=m.errors;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:n,title:"".concat(l("deposit"),": ").concat(s.symbol),className:"mb-4"}),(0,a.jsxs)("form",{onSubmit:y(u),className:"w-full",children:[(0,a.jsx)("div",{className:"w-full mx-auto",children:(0,a.jsx)(Xn,oa(oa({},e),{},{depositTokenClassName:ma(d)&&"w-96",chainId:n,className:"",form:r,tokenBalance:s,ticketBalance:o,inputKey:ua}))}),(0,a.jsx)(ra.$y,oa(oa({},e),{},{className:"mt-3",chainId:n,depositTx:i,errors:b?h:null})),(0,a.jsx)(ra.x_,oa(oa({},e),{},{className:"mt-4 w-full",disabled:!f&&b||(null===i||void 0===i?void 0:i.inFlight),depositTx:i,isWalletConnected:p,tokenBalance:s,token:Ma(s),amountToDeposit:t}))]})]})},Ma=function(e){return{address:e.address,decimals:e.decimals,name:e.name,symbol:e.symbol}},Da=function(e){return{address:e.address,decimals:e.decimals,name:e.name,symbol:e.symbol}},Fa=function(e){var t=e.chainId,n=e.amountToDeposit,i=e.stakingPool,s=e.depositAllowance,o=e.ticketBalance,d=e.tokenBalance,u=e.userLPChainData,l=e.closeInitialSheet,p=e.setDepositTxId,y=e.setApproveTxId,m=e.setDepositFormView,f=e.refetch,h=(0,c.$)().t,v=(0,Je._g)().provider,T=(0,ft.p)(),w=(0,r.useState)(!0),g=w[0],j=w[1],k=(0,x.b)(),P=u.balances,I=Ma(d),C=g,M=function(){m(),j(!1)},D=function(e){p(0),M(),l()},F=function(){var e=(0,N.Z)(O().mark((function e(){var t,n,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ra({provider:v,amount:b.Bz,prizePoolAddress:i.prizePool.address,token:d}),n=h("allowTickerPool",{ticker:I.symbol}),e.next=4,T({name:n,method:"approve",callTransaction:t,callbacks:{refetch:f}});case 4:a=e.sent,y(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,N.Z)(O().mark((function e(){var t,a,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h("deposit")," ").concat(n.amountPretty," ").concat(I.symbol),a=Ua({provider:v,amount:n.amountUnformatted,prizePoolAddress:i.prizePool.address,ticket:P.ticket,usersAddress:k}),e.next=4,T({name:t,method:"depositTo",callTransaction:a,callbacks:{onSuccess:D,refetch:f}});case 4:r=e.sent,p(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(ia.l,oa(oa({},e),{},{chainId:t,isOpen:C,label:"deposit confirmation modal",isDataFetched:!0,amountToDeposit:n,depositAllowance:s,resetState:function(){},token:Ma(d),ticket:Da(o),closeModal:M,sendApproveTx:F,sendDepositTx:S}))};!function(e){e[e.main=0]="main",e[e.claiming=1]="claiming"}(Pa||(Pa={}));var Sa=function(e){var t=e.chainId,n=e.stakingPoolChainData,r=e.stakingPool,i=e.claimTx,s=(e.tokenFaucetDripToken,(0,c.$)().t),o=Ea(n,r),d=o.apr,u=o.tokenPrices,l=(0,Tt.C)(t);return i&&i.sent?(0,a.jsx)(Aa,oa({},e)):l?(0,a.jsx)(za,oa(oa({},e),{},{apr:d,tokenPrices:u})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:t,title:s("wrongNetwork","Wrong network")}),(0,a.jsx)(wt.F,{chainId:t,className:"mt-8"})]})},Ea=function(e,t){var n,a={},r=t||{},i=r.prizePool,s=r.tokens||{},o=s.underlyingToken,d=s.tokenFaucetDripToken,u=i.chainId;if(ma(t)){var l=fa(u,e,t);n=l.apr,a=l.tokenPrices}else{var c,p=(0,le.usePoolByChainId)(u,i.address).data;n=null===p||void 0===p||null===(c=p.tokenFaucets)||void 0===c?void 0:c[0].apr;var y=(0,le.useCoingeckoTokenPrices)(u,[o.address,d.address]);y.isFetched&&(a=y.data)}return{apr:n,tokenPrices:a}},za=function(e){var t,n=e.tokenPrices,r=e.userLPChainData,i=e.stakingPool,s=e.tokenFaucetDripToken,o=e.chainId,d=e.apr,u=e.setClaimTxId,l=e.refetch,y=(0,c.$)().t,m=(0,Je._g)().provider,f=(0,ft.p)(),b=(0,x.b)(),h=i.tokenFaucet.address,v=r.userData,w=function(e){u(0)},g=function(){var e=(0,N.Z)(O().mark((function e(){var t,n,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Wa({provider:m,tokenFaucetAddress:h,usersAddress:b}),n=y("claimAmountTicker","Claim {{amount}} {{ticker}}",{amount:(0,ae.numberWithCommas)(v.claimableBalance),ticker:s.symbol}),e.next=4,f({name:n,method:"claim",callTransaction:t,callbacks:{onSuccess:w,refetch:l}});case 4:a=e.sent,u(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(null===(t=n[s.address.toLowerCase()])||void 0===t?void 0:t.usd)||0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:o,title:"".concat(y("claim"),": ").concat(s.symbol),className:"mb-4"}),(0,a.jsxs)("h5",{className:"pt-4 text-center",children:[y("unclaimedRewards","Unclaimed rewards")," ",(0,a.jsxs)("span",{className:"opacity-50 font-normal",children:[" ","$",(0,ae.numberWithCommas)(Number(v.claimableBalance)*j)]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-actually-black dark:bg-opacity-10 rounded-xl w-full py-6 flex flex-col mb-4",children:[(0,a.jsx)("span",{className:"text-3xl mx-auto font-bold leading-none",children:(0,ae.numberWithCommas)(v.claimableBalance)}),(0,a.jsxs)("span",{className:"mx-auto flex mt-1",children:[(0,a.jsx)(p.T1,{chainId:o,address:s.address,sizeClassName:"w-6 h-6"}),(0,a.jsx)("span",{className:"ml-2 opacity-50",children:s.symbol})]})]}),(0,a.jsx)("div",{className:"relative rounded-lg p-4 text-white mt-2 mb-4 text-center font-semibold",style:{backgroundImage:"linear-gradient(300deg, #eC2BB8 0%, #EA69D6 100%)"},children:(0,a.jsx)(T.c,{i18nKey:"earningPercentageVAPR",defaults:"Earning {{percentage}}% <tooltip>vAPR</tooltip>",values:{percentage:(0,ae.displayPercentage)(d)},components:{tooltip:(0,a.jsx)(Ln,{t:y})}})}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(p.LE,{disabled:!v.claimableBalanceUnformatted.gt(0),onClick:g,className:"flex w-full items-center justify-center",theme:p.kY.rainbow,children:y("claim","Claim")})})]})},Aa=function(e){var t=e.chainId,n=e.closeInitialSheet,r=e.claimTx,i=(0,c.$)().t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(gt.r,{chainId:t,title:i("claimSubmitted","Claim submitted")}),(0,a.jsx)(jt.v,{className:"mt-8",chainId:t,tx:r,closeModal:n})]})},Za=function(){return(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"}),(0,a.jsx)("li",{className:"rounded-lg bg-white bg-opacity-20 dark:bg-actually-black dark:bg-opacity-10 animate-pulse w-full h-10"})]})},Ba=function(e,t){var n=e.userData.underlyingToken;return{isApproved:null!==t&&void 0!==t&&t.amountUnformatted?n.allowance.gt(t.amountUnformatted):n.allowance.gt(0),allowanceUnformatted:n.allowance}},Ra=function(e){var t,n=e.amount,a=e.token,r=e.prizePoolAddress,i=e.provider.getSigner(),s=[r,n];return(t=new Wn.CH(a.address,ce,i).approve).bind.apply(t,[null].concat(s))},Ua=function(e){var t,n=e.amount,a=e.usersAddress,r=e.ticket,i=e.prizePoolAddress,s=e.provider.getSigner(),o=[a,n,r.address,ut.d];return(t=new Wn.CH(i,_n,s).depositTo).bind.apply(t,[null].concat(o))},Wa=function(e){var t,n=e.tokenFaucetAddress,a=e.usersAddress,r=e.provider.getSigner(),i=[a];return(t=new Wn.CH(n,$n,r).claim).bind.apply(t,[null].concat(i))};function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Va=function(e){var t=(0,Je._g)().isWalletConnected,n=(0,o.v)();return t?(0,a.jsxs)(d.R,{className:"space-y-8",children:[(0,a.jsx)(He,{user:n}),(0,a.jsx)(ln,{}),(0,a.jsx)(la,{}),(0,a.jsx)(Dn,{}),(0,a.jsx)(it,{className:"block mt-6"})]}):(0,a.jsxs)(d.R,{className:"space-y-8",children:[(0,a.jsx)(La,{className:"w-20 sm:w-32 mb-2 sm:mb-4 mx-auto"}),(0,a.jsxs)("span",{className:"mx-auto mb-6 text-xs sm:text-lg block text-center",children:[(0,a.jsx)(rt,{x:"100"}),"!",(0,a.jsx)("span",{className:"opacity-40",children:"*"})]}),(0,a.jsx)(m,{}),(0,a.jsx)(it,{className:"block mt-6"})]})},La=function(e){return(0,a.jsxs)("svg",_a(_a({},e),{},{width:"100%",height:"100%",viewBox:"0 0 77 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M3.8 51.596h3.024c.968 0 1.875.534 2.367 1.393 1.732 3.015 4.503 5.706 8.014 7.784.995.588 1.59 1.553 1.59 2.58v6.323c0 .766.678 1.386 1.517 1.386h8.397c.839 0 1.518-.62 1.518-1.386v-4.624a37.9 37.9 0 009.936 0v4.624c0 .766.68 1.386 1.518 1.386h8.397c.839 0 1.518-.62 1.518-1.386v-8.03c5.882-2.994 9.804-7.447 11.158-12.415 1.515 1.508 3.8 2.966 6.985 2.966 3.714 0 5.959-2.867 6.538-5.709.633-3.113-.613-5.882-3.032-6.733-2.096-.737-4.507-.05-5.864 1.672-1.184 1.506-1.184 3.323.001 4.63.532.587 1.491.67 2.137.18.645-.488.734-1.362.199-1.952-.41-.451-.047-1.017.127-1.24.464-.59 1.355-1.04 2.31-.703.998.352 1.489 1.916 1.138 3.639-.324 1.588-1.448 3.443-3.554 3.443-3.966 0-6.015-3.51-6.45-4.352-.266-10.843-12.754-19.61-28.093-19.61-4.45 0-8.854.76-12.824 2.207-2.569-3.502-5.92-6.346-6.073-6.476a1.626 1.626 0 00-1.638-.252c-.553.22-.91.719-.91 1.27v10.314c-1.936 1.62-3.483 3.438-4.605 5.41a2.567 2.567 0 01-2.22 1.312H3.8c-1.787 0-3.24 1.329-3.24 2.961v6.427c0 1.633 1.453 2.961 3.24 2.961zm-.205-9.388c0-.103.091-.188.205-.188h3.126c2.047 0 3.93-1.075 4.915-2.806 1.043-1.835 2.53-3.524 4.42-5.018.334-.264.525-.646.525-1.049v-7.503c1.197 1.23 2.6 2.814 3.696 4.475.396.598 1.214.835 1.92.548 3.888-1.59 8.312-2.432 12.794-2.432 13.83 0 25.083 7.71 25.083 17.186 0 5.648-4.074 10.943-10.898 14.165-.503.237-.82.713-.82 1.231v7.472h-5.362v-4.874a1.34 1.34 0 00-.552-1.069 1.608 1.608 0 00-1.252-.292c-4.196.735-8.199.735-12.4 0a1.62 1.62 0 00-1.252.292c-.35.264-.552.656-.552 1.07v4.873H21.83v-4.935c0-1.972-1.111-3.807-2.973-4.909-3.075-1.82-5.488-4.152-6.977-6.745-1.018-1.774-2.955-2.877-5.055-2.877H3.8c-.114 0-.205-.085-.205-.188v-6.427z",fill:"#DB77CF"}),(0,a.jsx)("circle",{cx:18.875,cy:41.233,r:2.617,fill:"#FB97FF"}),(0,a.jsx)("path",{d:"M30.215 32.115a1.5 1.5 0 10.347 2.98l-.347-2.98zm16.336 5.346a1.5 1.5 0 001.69-2.48l-1.69 2.48zm-15.99-2.366c1.781-.207 4.774-.335 7.864-.03 3.132.308 6.14 1.041 8.127 2.396l1.69-2.48c-2.619-1.784-6.24-2.578-9.523-2.902-3.325-.328-6.534-.193-8.504.036l.347 2.98z",fill:"#DB77CF"}),(0,a.jsx)("circle",{cx:38.762,cy:11.927,r:9.49,stroke:"#EADC75",strokeWidth:3}),(0,a.jsx)("path",{d:"M41.718 13.249c0 .383-.091.702-.274.955-.175.253-.48.553-.916.902-.34.27-.737.432-1.19.485 0 .392.004.627.012.706 0 .087-.03.153-.091.196a.316.316 0 01-.21.066.485.485 0 01-.313-.118.363.363 0 01-.131-.301c0-.148-.01-.318-.026-.51a1.777 1.777 0 01-.537-.105 5.862 5.862 0 01-.419-.17l-.209-.105c-.314-.218-.55-.392-.706-.523a1.861 1.861 0 01-.38-.458 1.155 1.155 0 01-.144-.589c0-.218.048-.366.144-.444.096-.088.27-.131.523-.131a.64.64 0 01.328.091.645.645 0 01.235.223c.288.514.659.833 1.112.955 0-.053.009-.345.026-.877.018-.532.03-1.068.04-1.609-.498-.175-.85-.314-1.06-.419-.846-.418-1.27-1.029-1.27-1.831 0-.34.118-.69.354-1.047.236-.358.51-.61.824-.759.122-.06.297-.13.524-.21a7.75 7.75 0 01.654-.195c0-.245-.005-.423-.013-.537 0-.157.039-.266.117-.327a.357.357 0 01.236-.104c.2 0 .323.07.366.209.053.14.074.38.066.72.279.026.588.13.928.313.393.227.677.428.85.602.184.166.276.38.276.641 0 .149-.061.27-.184.367-.122.096-.322.144-.601.144-.122 0-.28-.123-.471-.367-.175-.192-.31-.31-.406-.353a2.63 2.63 0 01-.17-.052 1.244 1.244 0 00-.236-.079c0 .794-.008 1.452-.026 1.976v.196c.471.21.86.41 1.165.602.418.261.724.523.916.785.191.253.287.615.287 1.086zm-4.134-3.677c0 .175.083.34.249.497.166.149.357.262.575.34l.197.066V8.591a1.675 1.675 0 00-.733.34.808.808 0 00-.288.641zm1.74 4.789c.314-.088.567-.236.759-.445.192-.21.288-.423.288-.641 0-.384-.345-.733-1.034-1.047-.008.445-.013 1.156-.013 2.133z",fill:"#EADC75"})]}))};function Ka(e){return(0,a.jsx)(i.Z,{children:(0,a.jsx)(Va,{})})}},90431:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n(43039)}])},96566:function(e){e.exports="/_next/static/images/icon-wallet-c9fc519db9af712faca8c9023f5a7042.svg"},3532:function(e){e.exports="/_next/static/images/pooltogether-trophy--detailed-5267963ef956b7a74922485842978cca.svg"},40510:function(e){e.exports="/_next/static/images/wallet-illustration-ad0941031465d48734777c80957bc8c6.png"}},function(e){e.O(0,[5390,3662,3181,2584,2808,4932,9774,2888,179],(function(){return t=90431,e(e.s=t);var t}));var t=e.O();_N_E=t}]);